<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual da Bestie - Secando sem Neura</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                    },
                    colors: {
                        bestie: {
                            light: '#ffe4e6', // rose-100
                            DEFAULT: '#fb7185', // rose-400
                            dark: '#be123c', // rose-700
                            bg: '#fff1f2', // rose-50
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #fff1f2;
            -webkit-tap-highlight-color: transparent;
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Loading Animation Styles */
        .typing-indicator span {
            display: inline-block;
            width: 6px;
            height: 6px;
            background-color: #fb7185;
            border-radius: 50%;
            animation: typing 1s infinite;
            margin: 0 2px;
        }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
    </style>
</head>
<body class="text-gray-700 pb-20">

    <!-- Header -->
    <header class="fixed top-0 w-full z-40 bg-white/90 backdrop-blur-md shadow-sm border-b border-pink-100">
        <div class="max-w-md mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-full bg-bestie text-white flex items-center justify-center">
                    <i class="fa-solid fa-heart text-sm"></i>
                </div>
                <h1 class="font-bold text-lg text-bestie-dark tracking-wide">Manual da Bestie</h1>
            </div>
            <button class="w-8 h-8 rounded-full bg-pink-50 text-bestie flex items-center justify-center hover:bg-pink-100 transition">
                <i class="fa-regular fa-bell"></i>
            </button>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="max-w-md mx-auto pt-20 px-4 min-h-screen" id="app-content">
        <!-- Content inject via JS -->
    </main>

    <!-- Recipe Details Modal (Hidden by default) -->
    <div id="recipe-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black/40 backdrop-blur-sm" onclick="closeRecipeModal()"></div>
        <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl h-[80vh] overflow-y-auto transform transition-transform duration-300 translate-y-full md:max-w-md md:mx-auto md:inset-x-0" id="modal-panel">
            <!-- Modal Content -->
            <div class="relative p-6">
                <!-- Close Button -->
                <button onclick="closeRecipeModal()" class="absolute top-4 right-4 w-8 h-8 bg-gray-100 text-gray-500 rounded-full flex items-center justify-center hover:bg-gray-200 transition z-10">
                    <i class="fa-solid fa-xmark"></i>
                </button>

                <div class="w-12 h-1 bg-gray-300 rounded-full mx-auto mb-6"></div>
                
                <div class="flex justify-between items-start mb-4">
                    <div class="pr-8">
                        <span id="modal-tag" class="text-xs font-semibold text-bestie uppercase tracking-wider bg-pink-50 px-2 py-1 rounded-md">Categoria</span>
                        <h2 id="modal-title" class="text-2xl font-bold text-gray-800 mt-2 leading-tight">Nome da Receita</h2>
                    </div>
                    <div class="flex flex-col items-end flex-shrink-0">
                        <span class="text-lg font-bold text-bestie-dark whitespace-nowrap"><span id="modal-cal">0</span> kcal</span>
                    </div>
                </div>
                
                <p id="modal-desc" class="text-sm text-gray-500 mb-6 italic leading-relaxed">
                    <!-- Description injected here -->
                </p>

                <!-- Dica de Ouro Container -->
                <div id="modal-tip-container" class="hidden mb-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4">
                    <h4 class="text-yellow-700 font-bold text-sm mb-1 flex items-center gap-2">
                        <i class="fa-solid fa-star"></i> Dica de Ouro
                    </h4>
                    <p id="modal-tip-text" class="text-xs text-yellow-800"></p>
                </div>

                <div class="flex items-center gap-4 text-sm text-gray-500 mb-6 border-y border-pink-50 py-4 justify-between px-2">
                    <div class="flex items-center gap-1.5">
                        <i class="fa-regular fa-clock text-bestie"></i>
                        <span id="modal-time">0 min</span>
                    </div>
                    <div class="flex items-center gap-1.5">
                        <i class="fa-solid fa-fire text-bestie"></i>
                        <span id="modal-difficulty">F√°cil</span>
                    </div>
                    <div class="flex items-center gap-1.5">
                        <i class="fa-solid fa-user-group text-bestie"></i>
                        <span id="modal-yield">2 por√ß√µes</span>
                    </div>
                </div>

                <div class="mb-6">
                    <h3 class="font-bold text-gray-800 mb-3 flex items-center gap-2">
                        <i class="fa-solid fa-basket-shopping text-bestie"></i> Ingredientes
                    </h3>
                    <ul id="modal-ingredients" class="space-y-3 text-sm text-gray-600 pl-2">
                        <!-- JS Inject -->
                    </ul>
                </div>

                <div class="mb-8">
                    <h3 class="font-bold text-gray-800 mb-3 flex items-center gap-2">
                        <i class="fa-solid fa-spoon text-bestie"></i> Modo de Preparo
                    </h3>
                    <div id="modal-instructions" class="space-y-4 text-sm text-gray-600">
                        <!-- JS Inject -->
                    </div>
                </div>
                
                <button class="w-full py-3 bg-bestie text-white font-semibold rounded-xl shadow-lg shadow-pink-200 hover:bg-bestie-dark transition active:scale-95 mb-safe">
                    <i class="fa-regular fa-heart mr-2"></i> Salvar nos Favoritos
                </button>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 w-full z-40 bg-white border-t border-pink-100 pb-safe">
        <div class="max-w-md mx-auto px-6 h-16 flex items-center justify-between">
            <button onclick="navigate('home')" class="nav-btn active flex flex-col items-center gap-1 text-bestie">
                <i class="fa-solid fa-house text-xl mb-0.5"></i>
                <span class="text-[10px] font-medium">In√≠cio</span>
            </button>
            <button onclick="navigate('recipes')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 hover:text-bestie transition">
                <i class="fa-solid fa-utensils text-xl mb-0.5"></i>
                <span class="text-[10px] font-medium">Receitas</span>
            </button>
            <div class="relative -top-5">
                <button class="w-12 h-12 rounded-full bg-bestie text-white flex items-center justify-center shadow-lg shadow-pink-300 hover:scale-105 transition">
                    <i class="fa-solid fa-plus text-xl"></i>
                </button>
            </div>
            <button onclick="navigate('calculator')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 hover:text-bestie transition">
                <i class="fa-solid fa-calculator text-xl mb-0.5"></i>
                <span class="text-[10px] font-medium">Calc</span>
            </button>
            <button onclick="navigate('profile')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 hover:text-bestie transition">
                <i class="fa-regular fa-user text-xl mb-0.5"></i>
                <span class="text-[10px] font-medium">Perfil</span>
            </button>
        </div>
    </nav>

    <script>
        // --- GEMINI API SETUP ---
        const apiKey = ""; // Environment will provide key

        // --- USER PROFILE STATE ---
        let userProfile = JSON.parse(localStorage.getItem('bestieProfile')) || {
            name: 'Bestie',
            age: '',
            weight: '',
            targetWeight: '',
            height: '',
            goal: 'perder'
        };

        // --- DATA ---
        let waterIntake = 0;
        let waterGoalLiters = 2.5;
        let waterGoalCups = 10;

        const recipes = [
            { id: 1, title: "Crepioca Fit", displayCategory: "Caf√© da Manh√£", tags: ['cafe', 'proteina', 'zeroacucar', 'simples', 'rapido', 'lowcal'], calories: 180, time: "10 min", difficulty: "F√°cil", yield: "1 por√ß√£o", description: "A queridinha das dietas! Pr√°tica, r√°pida e vers√°til para come√ßar o dia.", ingredients: ["1 ovo", "2 colheres goma tapioca", "1 colher requeij√£o light", "Sal a gosto"], instructions: ["Bata o ovo com a tapioca.", "Tempere.", "Frite em frigideira untada."] },
            { id: 2, title: "Salada de Pote", displayCategory: "Almo√ßo Pr√°tico", tags: ['almoco', 'jantar', 'lowcal', 'lowcarb', 'proteina', 'rapido', 'simples'], calories: 320, time: "15 min", difficulty: "F√°cil", yield: "1 pote", description: "Perfeita para levar para o trabalho. O segredo est√° na ordem dos ingredientes!", ingredients: ["Folhas", "100g frango desfiado", "Tomate cereja", "Cenoura", "Molho iogurte"], instructions: ["Molho no fundo.", "Legumes duros.", "Frango.", "Folhas por cima."] },
            { id: 3, title: "Overnight Oats", displayCategory: "Caf√©/Lanche", tags: ['cafe', 'lanche', 'vegetariano', 'simples', 'rapido', 'zeroacucar'], calories: 250, time: "5 min", difficulty: "Muito F√°cil", yield: "1 pote", description: "Caf√© da manh√£ pronto para quem acorda na correria.", ingredients: ["30g aveia", "100ml leite vegetal", "Chia", "Frutas"], instructions: ["Misture tudo.", "Deixe na geladeira a noite toda."] },
            { id: 4, title: "Brigadeiro de Whey", displayCategory: "Doce Fit", tags: ['lanche', 'proteina', 'zeroacucar', 'simples', 'rapido'], calories: 120, time: "15 min", difficulty: "F√°cil", yield: "5 bolinhas", description: "Para matar a vontade de doce sem sair da dieta.", ingredients: ["1 scoop Whey Chocolate", "Cacau em p√≥", "Leite em p√≥ desnatado", "√Ågua"], instructions: ["Misture secos.", "Adicione √°gua aos poucos at√© dar ponto."] },
            { id: 5, title: "Panqueca de Banana", displayCategory: "Caf√© da Manh√£", tags: ['cafe', 'lanche', 'zeroacucar', 'simples', 'rapido', 'lowfat', 'vegetariano'], calories: 210, time: "10 min", difficulty: "F√°cil", yield: "1 por√ß√£o", description: "Apenas 3 ingredientes para um lanche saud√°vel.", ingredients: ["1 banana madura", "2 ovos", "Canela"], instructions: ["Amasse a banana.", "Misture ovos e canela.", "Frite discos."] },
            { id: 6, title: "Br√≥colis e couve-flor ao forno", displayCategory: "Almo√ßo/Jantar", tags: ['almoco', 'jantar', 'vegetariano', 'lowcarb', 'lowcal', 'lowfat'], calories: 356, time: "25 min", difficulty: "Normal", yield: "2 por√ß√µes", description: "Este prato de br√≥colis e couve-flor √© muito saboroso com molho de queijo.", ingredients: ["Couve-flor", "Br√≥colis", "Queijo alpino", "Creme azedo", "Azeite"], instructions: ["Cozinhe vegetais.", "Fa√ßa molho de queijo.", "Gratine no forno."] },
            { id: 7, title: "Lassi de Manga", displayCategory: "Caf√© da Manh√£", tags: ['cafe', 'lanche', 'vegetariano', 'simples', 'rapido', 'lowcal', 'lowfat'], calories: 211, time: "3 min", difficulty: "Muito F√°cil", yield: "2 por√ß√µes", description: "Bebida refrescante com iogurte e manga. Dica: Use cubos de gelo!", ingredients: ["Manga congelada", "Iogurte light", "Mel", "Cardamomo"], instructions: ["Bata tudo no liquidificador."] },
            { id: 8, title: "Shake de Chocolate e Hortel√£", displayCategory: "Caf√©/Lanche", tags: ['cafe', 'lanche', 'vegano', 'vegetariano', 'zeroacucar', 'simples', 'rapido'], calories: 232, time: "3 min", difficulty: "F√°cil", yield: "2 por√ß√µes", description: "Do√ßura natural da banana e frescor da hortel√£.", ingredients: ["Cacau em p√≥", "Hortel√£", "Avocado", "Banana", "Leite am√™ndoas"], instructions: ["Bata tudo no liquidificador."] },
            { id: 9, title: "Smoothie de Morango e Banana", displayCategory: "Caf√©/Lanche", tags: ['cafe', 'lanche', 'vegetariano', 'rapido', 'simples', 'lowcal'], calories: 150, time: "5 min", difficulty: "F√°cil", yield: "2 por√ß√µes", description: "Cl√°ssico refrescante e pouco cal√≥rico.", ingredients: ["Morango", "Banana", "Iogurte light", "Gelo"], instructions: ["Bata tudo no liquidificador."] },
            { id: 10, title: "Shake de banana e nozes", displayCategory: "P√≥s-Treino/Caf√©", tags: ['cafe', 'lanche', 'proteina', 'rapido', 'simples'], calories: 434, time: "5 min", difficulty: "F√°cil", yield: "1 por√ß√£o", description: "Energia pura para come√ßar o dia.", ingredients: ["Iogurte grego", "Leite am√™ndoa", "Mel", "Banana", "Nozes"], instructions: ["Bata tudo.", "Decore com nozes."] },
            { id: 11, title: "Shake de prote√≠na com pasta de amendoim", displayCategory: "Proteico", tags: ['lanche', 'proteina', 'rapido', 'simples', 'zeroacucar'], calories: 402, time: "5 min", difficulty: "F√°cil", yield: "1 por√ß√£o", description: "Favorito dos atletas para ganho de massa.", ingredients: ["Leite am√™ndoa", "Pasta amendoim", "Banana", "Prote√≠na chocolate"], instructions: ["Bata tudo no liquidificador."] },
            { id: 12, title: "Smoothie de banana e t√¢mara", displayCategory: "Caf√©/Lanche", tags: ['cafe', 'lanche', 'vegano', 'vegetariano', 'zeroacucar', 'simples'], calories: 237, time: "15 min", difficulty: "F√°cil", yield: "2 por√ß√µes", description: "Do√ßura natural das t√¢maras. Dica: Deixe t√¢maras de molho.", ingredients: ["T√¢mara", "Leite am√™ndoa", "Banana", "Manteiga am√™ndoa"], instructions: ["Hidrate t√¢maras.", "Bata com o resto."] },
            { id: 13, title: "Shake de mirtilo e coco", displayCategory: "Proteico Caseiro", tags: ['lanche', 'proteina', 'rapido', 'simples', 'cafe'], calories: 358, time: "5 min", difficulty: "F√°cil", yield: "1 por√ß√£o", description: "Prote√≠na de qualidade sem aditivos.", ingredients: ["Iogurte grego", "Mirtilo", "Flocos de coco", "Leite"], instructions: ["Bata tudo.", "Sirva com coco."] },
            { id: 14, title: "Shake proteico frutas vermelhas", displayCategory: "P√≥s-Treino", tags: ['lanche', 'proteina', 'lowcal', 'lowfat', 'rapido', 'zeroacucar'], calories: 163, time: "9 min", difficulty: "F√°cil", yield: "1 por√ß√£o", description: "Leve e proteico com claras pasteurizadas.", ingredients: ["Linha√ßa", "√Ågua", "Claras", "Iogurte", "Frutas vermelhas"], instructions: ["Hidrate linha√ßa.", "Bata com claras e iogurte."] },
            { id: 15, title: "Shake prote√≠na chocolate", displayCategory: "Pr√©-Treino", tags: ['lanche', 'proteina', 'rapido', 'simples', 'zeroacucar'], calories: 284, time: "5 min", difficulty: "F√°cil", yield: "2 por√ß√µes", description: "R√°pido e delicioso com cacau.", ingredients: ["Banana", "√Ågua", "Linha√ßa", "Aveia", "Prote√≠na", "Cacau"], instructions: ["Bata tudo no liquidificador."] },
            { id: 16, title: "Mingau de aveia chocolate e morango", displayCategory: "Caf√© Vegano", tags: ['cafe', 'vegano', 'vegetariano', 'doces', 'simples'], calories: 389, time: "10 min", difficulty: "F√°cil", yield: "1 por√ß√£o", description: "Doce e saciante.", ingredients: ["Banana", "Aveia", "Leite am√™ndoa", "Cacau", "Morango"], instructions: ["Cozinhe aveia com leite e cacau.", "Sirva com frutas."] },
            { id: 17, title: "Cereal crocante de canela", displayCategory: "Caf√©/Lanche", tags: ['cafe', 'lanche', 'vegano', 'vegetariano', 'lowcarb'], calories: 455, time: "85 min", difficulty: "Normal", yield: "4 por√ß√µes", description: "Vers√£o caseira e saud√°vel de cereal.", ingredients: ["√ìleo de coco", "Am√™ndoa triturada", "Linha√ßa", "Canela"], instructions: ["Fa√ßa massa.", "Asse at√© ficar crocante."] },
            { id: 18, title: "Overnight am√™ndoa e framboesa", displayCategory: "Caf√© Pr√°tico", tags: ['cafe', 'vegano', 'vegetariano', 'simples', 'zeroacucar'], calories: 286, time: "3h+", difficulty: "F√°cil", yield: "1 por√ß√£o", description: "Prepare na noite anterior.", ingredients: ["Aveia", "Am√™ndoa", "Leite am√™ndoa", "Framboesa"], instructions: ["Misture e deixe na geladeira."] },
            { id: 19, title: "Mingau de aveia banana e morango", displayCategory: "Caf√© R√°pido", tags: ['cafe', 'vegano', 'vegetariano', 'rapido', 'simples', 'lowcal'], calories: 373, time: "8 min", difficulty: "F√°cil", yield: "1 por√ß√£o", description: "Feito no microondas.", ingredients: ["Banana", "Aveia", "Leite am√™ndoa", "Canela", "Morango"], instructions: ["Misture.", "Aque√ßa no microondas."] },
            { id: 20, title: "Smoothie verde de espinafre", displayCategory: "Detox", tags: ['lanche', 'vegano', 'vegetariano', 'lowcal', 'rapido', 'simples'], calories: 273, time: "5 min", difficulty: "F√°cil", yield: "1 por√ß√£o", description: "Saboroso e cheio de vitaminas.", ingredients: ["Espinafre", "Hortel√£", "Banana", "Laranja"], instructions: ["Bata tudo."] },
            { id: 21, title: "Cereal crocante trigo-vermelho", displayCategory: "Caf√© Caseiro", tags: ['cafe', 'vegano', 'vegetariano', 'simples'], calories: 413, time: "15 min", difficulty: "Normal", yield: "1 por√ß√£o", description: "Cereal caseiro assado.", ingredients: ["Banana", "√ìleo coco", "Leite am√™ndoa", "Trigo vermelho"], instructions: ["Misture e asse."] },
            { id: 22, title: "Bruschetta de avocado", displayCategory: "Lanche Salgado", tags: ['lanche', 'jantar', 'vegano', 'vegetariano', 'simples'], calories: 427, time: "15 min", difficulty: "F√°cil", yield: "2 por√ß√µes", description: "Entrada ou lanche refinado.", ingredients: ["Baguete integral", "Azeite", "Tomate", "Avocado", "Temperos"], instructions: ["Toste p√£o.", "Cubra com mistura de tomate e avocado."] },
            { id: 23, title: "Misto quente batata-doce", displayCategory: "Pr√©-Treino", tags: ['lanche', 'cafe', 'vegano', 'vegetariano', 'simples'], calories: 303, time: "28 min", difficulty: "F√°cil", yield: "3 por√ß√µes", description: "Batata doce como p√£o.", ingredients: ["Batata doce", "Banana", "Pasta amendoim"], instructions: ["Asse fatias de batata.", "Recheie."] },
            { id: 24, title: "Geleia de morango com chia", displayCategory: "Doce Fit", tags: ['doces', 'vegano', 'vegetariano', 'lowcal', 'zeroacucar', 'simples'], calories: 12, time: "15 min", difficulty: "F√°cil", yield: "20 por√ß√µes", description: "Geleia saud√°vel sem a√ß√∫car.", ingredients: ["Morango", "Chia", "Ado√ßante"], instructions: ["Cozinhe morango.", "Adicione chia para engrossar."] },
            { id: 25, title: "Sandu√≠che de tomate e ovos", displayCategory: "Caf√© Pr√°tico", tags: ['cafe', 'almoco', 'vegetariano', 'proteina', 'normal'], calories: 240, time: "15 min", difficulty: "Normal", yield: "2 por√ß√µes", description: "Sandu√≠che cl√°ssico e proteico.", ingredients: ["Ovo", "Alcaparra", "Tomate", "Iogurte", "P√£o integral"], instructions: ["Fa√ßa pasta de ovos.", "Monte sandu√≠che."] },
            { id: 26, title: "Rabanada de morango", displayCategory: "Caf√© Especial", tags: ['cafe', 'vegetariano', 'doces', 'simples', 'rapido'], calories: 260, time: "10 min", difficulty: "F√°cil", yield: "2 por√ß√µes", description: "French toast saud√°vel.", ingredients: ["Ovos", "Canela", "P√£o integral", "Morango", "Leite"], instructions: ["Passe p√£o no ovo e leite.", "Grelhe.", "Sirva com morango."] },
            { id: 27, title: "Triguilho com framboesas", displayCategory: "Caf√© Energia", tags: ['cafe', 'vegetariano', 'simples', 'rapido'], calories: 467, time: "10 min", difficulty: "F√°cil", yield: "1 por√ß√£o", description: "Rico em fibras.", ingredients: ["Iogurte grego", "Triguilho", "Am√™ndoas", "Framboesas"], instructions: ["Hidrate triguilho.", "Misture com iogurte e frutas."] },
            { id: 28, title: "Ovos mexidos espinafre e feta", displayCategory: "Caf√© Low Carb", tags: ['cafe', 'almoco', 'vegetariano', 'proteina', 'lowcarb', 'simples', 'rapido'], calories: 546, time: "10 min", difficulty: "F√°cil", yield: "1 por√ß√£o", description: "Caf√© da manh√£ refor√ßado.", ingredients: ["Tomate", "Espinafre", "Ovos", "Feta"], instructions: ["Refogue vegetais.", "Adicione ovos e queijo."] },
            { id: 29, title: "Muffin de banana e chocolate", displayCategory: "Doce Fit", tags: ['cafe', 'lanche', 'doces', 'vegetariano', 'simples', 'lowcal'], calories: 152, time: "25 min", difficulty: "F√°cil", yield: "9 por√ß√µes", description: "Muffin energ√©tico.", ingredients: ["Mel", "Ovo", "Farinha integral", "Chocolate", "Banana"], instructions: ["Misture tudo.", "Asse em forminhas."] },
            { id: 30, title: "Muffins de prote√≠na (Salgados)", displayCategory: "Caf√© Proteico", tags: ['cafe', 'lanche', 'proteina', 'lowcal', 'lowcarb', 'simples'], calories: 41, time: "35 min", difficulty: "F√°cil", yield: "9 por√ß√µes", description: "Lanche salgado leve.", ingredients: ["Tomate", "Cebolinha", "Ovos", "Claras"], instructions: ["Misture ovos e vegetais.", "Asse."] },
            { id: 31, title: "Panquecas de presunto e ricota", displayCategory: "Caf√© Proteico", tags: ['cafe', 'almoco', 'proteina', 'salgado', 'rapido'], calories: 476, time: "15 min", difficulty: "F√°cil", yield: "2 por√ß√µes", description: "Panqueca salgada de aveia.", ingredients: ["Ovos", "Aveia", "Cottage", "Presunto", "Ricota"], instructions: ["Fa√ßa panqueca.", "Recheie com presunto e queijo."] },
            { id: 32, title: "Ovos mexidos espinafre presunto", displayCategory: "Caf√© Salgado", tags: ['cafe', 'almoco', 'lowcarb', 'proteina', 'salgado', 'rapido'], calories: 230, time: "25 min", difficulty: "F√°cil", yield: "2 por√ß√µes", description: "Cl√°ssico refor√ßado.", ingredients: ["Ovos", "Espinafre", "Presunto"], instructions: ["Refogue presunto.", "Fa√ßa ovos mexidos com espinafre."] },
            { id: 33, title: "Sufl√™ de mirtilo e iogurte", displayCategory: "Caf√©/Lanche", tags: ['cafe', 'lanche', 'doces', 'proteina', 'vegetariano'], calories: 300, time: "65 min", difficulty: "F√°cil", yield: "3 por√ß√µes", description: "Pode comer quente ou frio.", ingredients: ["Iogurte grego", "Ovos", "Pudim p√≥", "Mirtilo"], instructions: ["Bata e asse."] },
            { id: 34, title: "Wrap de omelete e salm√£o", displayCategory: "Almo√ßo/Jantar", tags: ['almoco', 'jantar', 'proteina', 'lowcarb', 'salgado'], calories: 352, time: "20 min", difficulty: "Normal", yield: "4 por√ß√µes", description: "Omelete como massa de wrap.", ingredients: ["Ervilha", "Ovos", "Cream cheese", "Salm√£o"], instructions: ["Fa√ßa disco de ovo.", "Recheie e enrole."] },
            { id: 35, title: "Wraps de morango pro caf√©", displayCategory: "Doce Fit", tags: ['cafe', 'lanche', 'vegetariano', 'doces', 'rapido', 'simples'], calories: 297, time: "10 min", difficulty: "F√°cil", yield: "2 por√ß√µes", description: "Wrap doce refrescante.", ingredients: ["Morango", "Cream cheese", "Aveia", "Tortilha"], instructions: ["Passe cream cheese.", "Adicione morangos e enrole."] },
            { id: 36, title: "Rolinhos piment√£o e cream cheese", displayCategory: "Lanche Leve", tags: ['lanche', 'jantar', 'lowcal', 'rapido', 'simples'], calories: 353, time: "10 min", difficulty: "F√°cil", yield: "2 por√ß√µes", description: "Lanche frio e crocante.", ingredients: ["Piment√£o", "Cream cheese", "Peru", "Tortilha"], instructions: ["Recheie tortilha com tudo.", "Corte em rolinhos."] },
            { id: 37, title: "Gyeran Mari (Omelete coreano)", displayCategory: "Caf√©/Almo√ßo", tags: ['cafe', 'almoco', 'proteina', 'lowcarb', 'rapido'], calories: 303, time: "12 min", difficulty: "F√°cil", yield: "2 por√ß√µes", description: "Omelete enrolado com vegetais.", ingredients: ["Cenoura", "Cebolinha", "Ovos"], instructions: ["Bata ovos com vegetais.", "Frite enrolando."] },
            { id: 38, title: "P√£o Low Carb sem gl√∫ten", displayCategory: "Caf√©/Lanche", tags: ['cafe', 'lanche', 'lowcarb', 'proteina', 'simples'], calories: 165, time: "75 min", difficulty: "Normal", yield: "10 fatias", description: "P√£o de farinha de am√™ndoa.", ingredients: ["Iogurte", "Ovos", "Sementes", "Farinha am√™ndoa"], instructions: ["Misture tudo.", "Asse em forma de p√£o."] },
            { id: 39, title: "Ovos mexidos com salm√£o", displayCategory: "Caf√© Proteico", tags: ['cafe', 'almoco', 'proteina', 'lowcarb', 'rapido'], calories: 500, time: "15 min", difficulty: "Normal", yield: "2 por√ß√µes", description: "Rico em √¥mega 3.", ingredients: ["Ovos", "Piment√£o", "Salm√£o defumado"], instructions: ["Refogue vegetais.", "Junte ovos e salm√£o."] },
            { id: 40, title: "Sandu√≠che de peru mediterr√¢neo", displayCategory: "Lanche Pr√°tico", tags: ['lanche', 'jantar', 'proteina', 'rapido', 'normal'], calories: 313, time: "15 min", difficulty: "Normal", yield: "4 por√ß√µes", description: "Sandu√≠che completo.", ingredients: ["Maionese", "Extrato tomate", "P√£o integral", "Peru", "Vegetais"], instructions: ["Monte o sandu√≠che."] }
        ];

        const views = {
            home: `
                <div class="fade-in space-y-6">
                    <div class="bg-gradient-to-r from-bestie to-pink-400 rounded-3xl p-6 text-white shadow-lg shadow-pink-200">
                        <p class="text-pink-100 text-sm font-medium mb-1">Bom dia, Bestie! ‚ú®</p>
                        <h2 class="text-2xl font-bold mb-4">Vamos secar hoje?</h2>
                        <div class="flex gap-3">
                            <div class="bg-white/20 backdrop-blur rounded-xl p-3 flex-1">
                                <span class="block text-xs text-pink-100">√Ågua</span>
                                <span class="font-bold text-lg">1.2L</span>
                            </div>
                            <div class="bg-white/20 backdrop-blur rounded-xl p-3 flex-1">
                                <span class="block text-xs text-pink-100">Meta</span>
                                <span class="font-bold text-lg">55kg</span>
                            </div>
                        </div>
                    </div>

                    <div>
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-bold text-lg text-gray-800">Atalhos</h3>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <button onclick="navigate('recipes')" class="bg-white p-4 rounded-2xl shadow-sm border border-pink-50 flex flex-col items-center gap-2 hover:border-bestie transition group">
                                <div class="w-12 h-12 rounded-full bg-green-100 text-green-500 flex items-center justify-center group-hover:scale-110 transition">
                                    <i class="fa-solid fa-leaf"></i>
                                </div>
                                <span class="font-medium text-sm">Receitinhas</span>
                            </button>
                            <button onclick="navigate('water')" class="bg-white p-4 rounded-2xl shadow-sm border border-pink-50 flex flex-col items-center gap-2 hover:border-bestie transition group">
                                <div class="w-12 h-12 rounded-full bg-blue-100 text-blue-500 flex items-center justify-center group-hover:scale-110 transition">
                                    <i class="fa-solid fa-glass-water"></i>
                                </div>
                                <span class="font-medium text-sm">√Ågua</span>
                            </button>
                            <button onclick="navigate('weekend')" class="bg-white p-4 rounded-2xl shadow-sm border border-pink-50 flex flex-col items-center gap-2 hover:border-bestie transition group">
                                <div class="w-12 h-12 rounded-full bg-purple-100 text-purple-500 flex items-center justify-center group-hover:scale-110 transition">
                                    <i class="fa-solid fa-calendar-check"></i>
                                </div>
                                <span class="font-medium text-sm">Fim de Semana</span>
                            </button>
                            <button onclick="navigate('kit')" class="bg-white p-4 rounded-2xl shadow-sm border border-pink-50 flex flex-col items-center gap-2 hover:border-bestie transition group">
                                <div class="w-12 h-12 rounded-full bg-teal-100 text-teal-500 flex items-center justify-center group-hover:scale-110 transition">
                                    <i class="fa-solid fa-kit-medical"></i>
                                </div>
                                <span class="font-medium text-sm">Kit da Bestie</span>
                            </button>
                            <button onclick="navigate('swaps')" class="bg-white p-4 rounded-2xl shadow-sm border border-pink-50 flex flex-col items-center gap-2 hover:border-bestie transition group">
                                <div class="w-12 h-12 rounded-full bg-orange-100 text-orange-500 flex items-center justify-center group-hover:scale-110 transition">
                                    <i class="fa-solid fa-repeat"></i>
                                </div>
                                <span class="font-medium text-sm">Trocas</span>
                            </button>
                            <button onclick="navigate('savings')" class="bg-white p-4 rounded-2xl shadow-sm border border-pink-50 flex flex-col items-center gap-2 hover:border-bestie transition group">
                                <div class="w-12 h-12 rounded-full bg-yellow-100 text-yellow-500 flex items-center justify-center group-hover:scale-110 transition">
                                    <i class="fa-solid fa-piggy-bank"></i>
                                </div>
                                <span class="font-medium text-sm">Economia</span>
                            </button>
                            <button onclick="navigate('workout')" class="bg-white p-4 rounded-2xl shadow-sm border border-pink-50 flex flex-col items-center gap-2 hover:border-bestie transition group">
                                <div class="w-12 h-12 rounded-full bg-red-100 text-red-500 flex items-center justify-center group-hover:scale-110 transition">
                                    <i class="fa-solid fa-dumbbell"></i>
                                </div>
                                <span class="font-medium text-sm">Treino</span>
                            </button>
                        </div>
                    </div>
                </div>
            `,
            weekend: `
                <div class="fade-in pb-20">
                    <div class="mb-6 flex items-center gap-3">
                        <button onclick="navigate('home')" class="w-8 h-8 rounded-full bg-pink-50 text-bestie flex items-center justify-center hover:bg-pink-100 transition">
                            <i class="fa-solid fa-arrow-left"></i>
                        </button>
                        <h2 class="text-2xl font-bold text-gray-800">Fim de Semana (S√°bado e Domingo) üçï</h2>
                    </div>
                    <div class="bg-white rounded-3xl p-6 shadow-sm border border-pink-100 space-y-4">
                        <div class="bg-purple-50 rounded-xl p-4 border border-purple-100">
                            <h3 class="font-bold text-purple-700 mb-2">Regra de Ouro</h3>
                            <p class="text-sm text-gray-600">Escolha <strong>2 refei√ß√µes livres</strong> no fim de semana (S√°bado ou Domingo) para comer o que tem vontade!</p>
                        </div>
                        <ul class="space-y-3 text-sm text-gray-600">
                            <li class="flex items-start gap-3"><i class="fa-solid fa-check text-green-500 mt-1"></i><span>Volte para o plano na pr√≥xima refei√ß√£o.</span></li>
                            <li class="flex items-start gap-3"><i class="fa-solid fa-check text-green-500 mt-1"></i><span>Beba bastante √°gua antes e depois.</span></li>
                            <li class="flex items-start gap-3"><i class="fa-solid fa-check text-green-500 mt-1"></i><span>Coma devagar e aproveite cada mordida!</span></li>
                        </ul>
                    </div>
                </div>
            `,
            water: `
                <div class="fade-in pb-20 pt-6">
                    <div class="mb-6 flex items-center gap-3">
                        <button onclick="navigate('home')" class="w-8 h-8 rounded-full bg-pink-50 text-bestie flex items-center justify-center hover:bg-pink-100 transition">
                            <i class="fa-solid fa-arrow-left"></i>
                        </button>
                        <h2 class="text-2xl font-bold text-gray-800">Hidrata√ß√£o üíß</h2>
                    </div>
                    <div class="text-center mb-8">
                        <div class="relative w-40 h-40 mx-auto mb-4 bg-blue-50 rounded-full flex items-center justify-center border-4 border-white shadow-lg overflow-hidden">
                            <div id="water-level" class="absolute bottom-0 left-0 w-full bg-blue-400 transition-all duration-500 ease-out" style="height: 0%"></div>
                            <span id="water-count" class="relative text-3xl font-bold text-blue-600 z-10">0</span>
                            <span class="relative text-xs text-blue-400 mt-8 -ml-4 z-10" id="water-goal-total-cups">/10</span>
                        </div>
                        <p class="text-gray-500 text-sm">Meta Di√°ria: <span id="water-goal-liters" class="font-bold text-blue-600">2.5L</span></p>
                        <p class="text-xs text-gray-400 mt-1">(Baseado no seu peso: 35ml/kg)</p>
                    </div>
                    <div class="flex justify-center gap-6">
                        <button onclick="updateWater(-1)" class="w-14 h-14 rounded-full bg-white border border-gray-200 text-gray-400 flex items-center justify-center text-xl shadow-sm hover:scale-105 transition"><i class="fa-solid fa-minus"></i></button>
                        <button onclick="updateWater(1)" class="w-14 h-14 rounded-full bg-blue-500 text-white flex items-center justify-center text-xl shadow-lg shadow-blue-200 hover:scale-105 transition"><i class="fa-solid fa-plus"></i></button>
                    </div>
                </div>
            `,
            savings: `
                <div class="fade-in pb-20">
                    <div class="mb-6 flex items-center gap-3">
                        <button onclick="navigate('home')" class="w-8 h-8 rounded-full bg-pink-50 text-bestie flex items-center justify-center hover:bg-pink-100 transition">
                            <i class="fa-solid fa-arrow-left"></i>
                        </button>
                        <h2 class="text-2xl font-bold text-gray-800">Economia üí∞</h2>
                    </div>
                    <div class="bg-yellow-50 border border-yellow-100 rounded-3xl p-6 shadow-sm mb-6">
                        <h3 class="font-bold text-yellow-700 text-lg mb-2 flex items-center gap-2"><i class="fa-solid fa-star"></i> Dica de Ouro</h3>
                        <p class="text-sm text-yellow-800 leading-relaxed">Para economizar de verdade, compre suplementos em <strong>sites de atacado</strong> ou procure por <strong>cupons de influencers</strong>.<br><br>Para alimentos frescos, v√° √† <strong>feira local no final do dia</strong> (a "xepa") onde os pre√ßos despencam!</p>
                    </div>
                    <div class="space-y-3">
                        <div class="bg-white p-4 rounded-2xl border border-pink-50 flex items-center justify-between"><span class="text-sm font-medium text-gray-600">Granel</span><span class="text-xs bg-green-100 text-green-600 px-2 py-1 rounded-lg">Mais Barato</span></div>
                        <div class="bg-white p-4 rounded-2xl border border-pink-50 flex items-center justify-between"><span class="text-sm font-medium text-gray-600">Marcas de Supermercado</span><span class="text-xs bg-green-100 text-green-600 px-2 py-1 rounded-lg">Custo-Benef√≠cio</span></div>
                        <div class="bg-white p-4 rounded-2xl border border-pink-50 flex items-center justify-between"><span class="text-sm font-medium text-gray-600">Congelados</span><span class="text-xs bg-green-100 text-green-600 px-2 py-1 rounded-lg">Duram Mais</span></div>
                    </div>
                </div>
            `,
            kit: `
                <div class="fade-in pb-20">
                    <div class="mb-6 flex items-center gap-3">
                        <button onclick="navigate('home')" class="w-8 h-8 rounded-full bg-pink-50 text-bestie flex items-center justify-center hover:bg-pink-100 transition">
                            <i class="fa-solid fa-arrow-left"></i>
                        </button>
                        <h2 class="text-2xl font-bold text-gray-800">Kit da Bestie üíä</h2>
                    </div>
                    <div class="space-y-4">
                        <div class="bg-white rounded-2xl p-4 shadow-sm border border-pink-50 flex items-center gap-4"><div class="w-12 h-12 rounded-full bg-blue-50 text-blue-500 flex items-center justify-center text-xl">üí™</div><div><h3 class="font-bold text-gray-800">Whey Protein</h3><p class="text-xs text-gray-500">P√≥s-treino ou lanches r√°pidos.</p></div></div>
                        <div class="bg-white rounded-2xl p-4 shadow-sm border border-pink-50 flex items-center gap-4"><div class="w-12 h-12 rounded-full bg-green-50 text-green-500 flex items-center justify-center text-xl">‚ö°</div><div><h3 class="font-bold text-gray-800">Creatina</h3><p class="text-xs text-gray-500">3g a 5g todo dia (sem falhar!).</p></div></div>
                        <div class="bg-white rounded-2xl p-4 shadow-sm border border-pink-50 flex items-center gap-4"><div class="w-12 h-12 rounded-full bg-yellow-50 text-yellow-500 flex items-center justify-center text-xl">üåû</div><div><h3 class="font-bold text-gray-800">Multivitam√≠nico</h3><p class="text-xs text-gray-500">Pela manh√£, junto com o caf√©.</p></div></div>
                    </div>
                </div>
            `,
            swaps: `
                <div class="fade-in pb-20">
                    <div class="mb-6 flex items-center gap-3">
                        <button onclick="navigate('home')" class="w-8 h-8 rounded-full bg-pink-50 text-bestie flex items-center justify-center hover:bg-pink-100 transition">
                            <i class="fa-solid fa-arrow-left"></i>
                        </button>
                        <h2 class="text-2xl font-bold text-gray-800">Trocas Inteligentes üîÑ</h2>
                    </div>
                    <div class="bg-white rounded-3xl overflow-hidden shadow-sm border border-pink-100">
                        <table class="w-full text-sm text-left text-gray-600">
                            <thead class="bg-pink-50 text-bestie uppercase text-xs"><tr><th class="px-4 py-3">Troque Isso</th><th class="px-4 py-3">Por Isso</th></tr></thead>
                            <tbody class="divide-y divide-pink-50">
                                <tr><td class="px-4 py-3">A√ß√∫car</td><td class="px-4 py-3 font-medium text-green-600">Ado√ßante (Stevia/Xilitol)</td></tr>
                                <tr><td class="px-4 py-3">√ìleo de Soja</td><td class="px-4 py-3 font-medium text-green-600">Azeite de Oliva</td></tr>
                                <tr><td class="px-4 py-3">Refrigerante</td><td class="px-4 py-3 font-medium text-green-600">√Ågua com G√°s e Lim√£o</td></tr>
                                <tr><td class="px-4 py-3">P√£o Branco</td><td class="px-4 py-3 font-medium text-green-600">P√£o Integral / Tapioca</td></tr>
                                <tr><td class="px-4 py-3">Creme de Leite</td><td class="px-4 py-3 font-medium text-green-600">Iogurte Grego / Creme de Ricota</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            `,
            recipes: `
                <div class="fade-in">
                    <div class="mb-6 flex justify-between items-end">
                        <div>
                            <h2 class="text-2xl font-bold text-gray-800">Receitinhas ü•ó</h2>
                            <p class="text-gray-500 text-sm">Coma bem sem culpa!</p>
                        </div>
                        <button onclick="navigate('chefBestie')" class="bg-gradient-to-r from-bestie to-pink-400 text-white px-4 py-2 rounded-xl text-xs font-bold shadow-lg shadow-pink-200 hover:scale-105 transition flex items-center gap-2 animate-pulse">
                            <i class="fa-solid fa-wand-magic-sparkles"></i> Chef Bestie
                        </button>
                    </div>
                    <div class="relative mb-6">
                        <i class="fa-solid fa-search absolute left-4 top-3.5 text-gray-400 text-sm"></i>
                        <input type="text" placeholder="O que vamos cozinhar?" class="w-full bg-white border border-pink-100 rounded-full py-3 pl-10 pr-4 text-sm focus:outline-none focus:border-bestie focus:ring-1 focus:ring-bestie transition placeholder-gray-400 shadow-sm">
                    </div>
                    <div class="flex gap-2 overflow-x-auto hide-scrollbar mb-6 pb-2 px-1">
                        <button onclick="filterRecipes('all', this)" class="cat-btn active flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-bestie text-white shadow-md shadow-pink-200 transition">Tudo</button>
                        <button onclick="filterRecipes('cafe', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Caf√© da Manh√£</button>
                        <button onclick="filterRecipes('almoco', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Almo√ßo</button>
                        <button onclick="filterRecipes('jantar', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Jantar</button>
                        <button onclick="filterRecipes('lowcarb', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Baixo Carboidrato</button>
                        <button onclick="filterRecipes('proteina', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Rico em Prote√≠nas</button>
                        <button onclick="filterRecipes('lowcal', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Baixa Caloria</button>
                        <button onclick="filterRecipes('vegano', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Vegano</button>
                    </div>
                    <div id="recipe-grid" class="grid grid-cols-1 gap-4 pb-20"></div>
                </div>
            `,
            chefBestie: `
                <div class="fade-in pb-20">
                    <div class="mb-6 flex items-center gap-3">
                        <button onclick="navigate('recipes')" class="w-8 h-8 rounded-full bg-pink-50 text-bestie flex items-center justify-center hover:bg-pink-100 transition">
                            <i class="fa-solid fa-arrow-left"></i>
                        </button>
                        <h2 class="text-2xl font-bold text-gray-800">Chef Bestie ‚ú®</h2>
                    </div>
                    <div class="bg-gradient-to-br from-purple-50 to-pink-50 border border-pink-100 rounded-3xl p-6 shadow-sm mb-6">
                        <p class="text-gray-600 text-sm mb-4">Me conte o que voc√™ tem na geladeira e eu crio uma receitinha m√°gica pra voc√™!</p>
                        <div class="relative">
                            <textarea id="ai-ingredients" rows="3" placeholder="Ex: frango, batata doce, br√≥colis..." class="w-full bg-white border border-pink-200 rounded-2xl p-4 text-sm focus:outline-none focus:border-bestie focus:ring-1 focus:ring-bestie transition placeholder-gray-400 resize-none"></textarea>
                            <div class="absolute bottom-3 right-3 text-xs text-gray-400"><i class="fa-solid fa-carrot"></i></div>
                        </div>
                        <button onclick="generateAIRecipe()" id="generate-btn" class="w-full mt-4 bg-gradient-to-r from-bestie to-pink-400 text-white py-3 rounded-xl font-bold shadow-lg shadow-pink-200 hover:scale-[1.02] transition active:scale-95 flex items-center justify-center gap-2"><span>Criar Receita M√°gica</span><i class="fa-solid fa-wand-magic-sparkles"></i></button>
                    </div>
                    <div id="ai-result" class="hidden space-y-4">
                        <div class="flex items-center gap-2 text-sm text-gray-400 uppercase font-bold tracking-wider mb-2"><i class="fa-solid fa-star text-yellow-400"></i> Resultado</div>
                        <div id="ai-recipe-card"></div>
                    </div>
                </div>
            `,
            calculator: `
                 <div class="fade-in pb-20 pt-6">
                    <div class="mb-6 text-center">
                        <div class="w-16 h-16 bg-pink-100 text-bestie rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce">
                            <i class="fa-solid fa-wand-magic-sparkles text-2xl"></i>
                        </div>
                        <h2 class="text-xl font-bold text-gray-800">Calculadora M√°gica ‚ú®</h2>
                        <p class="text-gray-500 mt-2 text-sm">Descubra suas metas ideais!</p>
                    </div>

                    <div class="bg-white rounded-3xl p-6 shadow-sm border border-pink-100 space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Idade</label>
                                <input type="number" id="calc-age" class="w-full bg-gray-50 border border-pink-100 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition" placeholder="Ex: 25">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Peso Atual (kg)</label>
                                <input type="number" id="calc-weight" class="w-full bg-gray-50 border border-pink-100 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition" placeholder="Ex: 60">
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Altura (cm)</label>
                                <input type="number" id="calc-height" class="w-full bg-gray-50 border border-pink-100 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition" placeholder="Ex: 165">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Meta de Peso (kg)</label>
                                <input type="number" id="calc-target-weight" class="w-full bg-gray-50 border border-pink-100 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition" placeholder="Ex: 55">
                            </div>
                        </div>

                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Objetivo</label>
                            <select id="calc-goal" class="w-full bg-gray-50 border border-pink-100 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition text-gray-600">
                                <option value="perder">Secar (Perder Peso)</option>
                                <option value="manter">Manter Peso</option>
                                <option value="ganhar">Ganhar Massa (Hipertrofia)</option>
                            </select>
                        </div>

                        <button onclick="generatePlan()" id="plan-btn" class="w-full mt-4 bg-bestie text-white py-3 rounded-xl font-bold shadow-lg shadow-pink-200 hover:scale-[1.02] transition active:scale-95">
                            Gerar Plano Personalizado ‚ú®
                        </button>
                    </div>

                    <div id="plan-result" class="hidden mt-6 space-y-4">
                        <div class="bg-gradient-to-r from-bestie to-pink-400 rounded-3xl p-6 text-white shadow-lg relative overflow-hidden">
                            <div class="absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -mr-10 -mt-10"></div>
                            
                            <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
                                <i class="fa-solid fa-bullseye"></i> Sua Meta Di√°ria
                            </h3>
                            
                            <div class="text-4xl font-bold mb-1" id="plan-calories">0000</div>
                            <div class="text-pink-100 text-sm mb-4">kcal / dia</div>
                            
                            <div class="flex gap-2 text-center">
                                <div class="bg-white/20 backdrop-blur rounded-xl p-2 flex-1"><span class="block text-xs text-pink-100">Prot</span><span class="font-bold" id="plan-protein">0g</span></div>
                                <div class="bg-white/20 backdrop-blur rounded-xl p-2 flex-1"><span class="block text-xs text-pink-100">Carb</span><span class="font-bold" id="plan-carbs">0g</span></div>
                                <div class="bg-white/20 backdrop-blur rounded-xl p-2 flex-1"><span class="block text-xs text-pink-100">Gord</span><span class="font-bold" id="plan-fats">0g</span></div>
                            </div>
                            <div class="mt-4 text-xs text-center text-pink-100 bg-black/10 rounded-lg p-1" id="plan-bmi">IMC: 00.0</div>
                        </div>

                        <div class="bg-white rounded-2xl p-5 border border-purple-100 shadow-sm">
                            <h4 class="font-bold text-purple-600 mb-2 flex items-center gap-2"><i class="fa-solid fa-lightbulb"></i> Dica da Bestie</h4>
                            <p class="text-sm text-gray-600" id="plan-tip">...</p>
                        </div>

                        <div class="bg-yellow-50 rounded-2xl p-5 border border-yellow-100 shadow-sm text-center">
                            <p class="text-sm text-gray-600 italic font-medium" id="plan-quote">"..."</p>
                        </div>
                    </div>
                </div>
            `,
            workout: `
                <div class="fade-in pb-20">
                    <div class="mb-6 flex items-center gap-3">
                        <button onclick="navigate('home')" class="w-8 h-8 rounded-full bg-pink-50 text-bestie flex items-center justify-center hover:bg-pink-100 transition">
                            <i class="fa-solid fa-arrow-left"></i>
                        </button>
                        <h2 class="text-2xl font-bold text-gray-800">Treino da Bestie üèãÔ∏è‚Äç‚ôÄÔ∏è</h2>
                    </div>

                    <div class="bg-gradient-to-br from-red-50 to-pink-50 border border-red-100 rounded-3xl p-6 shadow-sm mb-6">
                        <p class="text-gray-600 text-sm mb-4">Escolha como voc√™ quer treinar hoje e eu monto tudo!</p>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Tempo Dispon√≠vel</label>
                                <select id="workout-time" class="w-full bg-white border border-pink-200 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition text-gray-600">
                                    <option value="15">15 minutos (R√°pido)</option>
                                    <option value="30">30 minutos (M√©dio)</option>
                                    <option value="45">45 minutos (Completo)</option>
                                    <option value="60">60 minutos (Intenso)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Foco do Treino</label>
                                <select id="workout-focus" class="w-full bg-white border border-pink-200 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition text-gray-600">
                                    <option value="Full Body">Corpo Todo (Full Body)</option>
                                    <option value="Legs & Glutes">Pernas e Gl√∫teos</option>
                                    <option value="Upper Body">Superiores (Bra√ßos/Costas)</option>
                                    <option value="Abs & Cardio">Abd√¥men e Cardio</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Equipamento</label>
                                <select id="workout-equip" class="w-full bg-white border border-pink-200 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition text-gray-600">
                                    <option value="Bodyweight">S√≥ o peso do corpo</option>
                                    <option value="Dumbbells">Pesos Livres / Halteres</option>
                                    <option value="Resistance Bands">El√°sticos</option>
                                    <option value="Gym Machine">M√°quinas de Academia</option>
                                </select>
                            </div>
                        </div>

                        <button onclick="generateWorkout()" id="workout-btn" class="w-full mt-6 bg-gradient-to-r from-red-400 to-pink-500 text-white py-3 rounded-xl font-bold shadow-lg shadow-red-200 hover:scale-[1.02] transition active:scale-95 flex items-center justify-center gap-2">
                            <span>Gerar Treino Agora</span>
                            <i class="fa-solid fa-fire"></i>
                        </button>
                    </div>

                    <div id="workout-result" class="hidden space-y-4">
                        <div id="workout-card"></div>
                    </div>
                </div>
            `,
            profile: `
                <div class="fade-in pb-20 pt-6">
                    <div class="mb-6 text-center">
                        <div class="w-20 h-20 bg-pink-100 rounded-full mx-auto mb-4 border-4 border-white shadow-md overflow-hidden">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Bestie" id="profile-avatar" alt="Profile" />
                        </div>
                        <h2 class="text-xl font-bold text-gray-800">Seu Perfil üíñ</h2>
                    </div>
                    
                    <div class="bg-white rounded-3xl p-6 shadow-sm border border-pink-100 space-y-4">
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Nome / Apelido</label>
                            <input type="text" id="profile-name" class="w-full bg-gray-50 border border-pink-100 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition">
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Idade</label>
                                <input type="number" id="profile-age" class="w-full bg-gray-50 border border-pink-100 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Peso Atual (kg)</label>
                                <input type="number" id="profile-weight" class="w-full bg-gray-50 border border-pink-100 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition">
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Altura (cm)</label>
                                <input type="number" id="profile-height" class="w-full bg-gray-50 border border-pink-100 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Meta de Peso (kg)</label>
                                <input type="number" id="profile-target-weight" class="w-full bg-gray-50 border border-pink-100 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition">
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1">Objetivo Principal</label>
                            <select id="profile-goal" class="w-full bg-gray-50 border border-pink-100 rounded-xl p-3 text-sm focus:outline-none focus:border-bestie transition text-gray-600">
                                <option value="perder">Secar (Perder Peso)</option>
                                <option value="manter">Manter Peso</option>
                                <option value="ganhar">Ganhar Massa (Hipertrofia)</option>
                            </select>
                        </div>

                        <button onclick="saveProfile()" class="w-full mt-4 bg-bestie text-white py-3 rounded-xl font-bold shadow-lg shadow-pink-200 hover:scale-[1.02] transition active:scale-95">
                            Salvar Dados
                        </button>
                    </div>
                </div>
            `
        };

        function init() {
            navigate('home'); 
            renderRecipes('all');
        }

        function saveProfile() {
            const name = document.getElementById('profile-name').value;
            const age = document.getElementById('profile-age').value;
            const weight = document.getElementById('profile-weight').value;
            const targetWeight = document.getElementById('profile-target-weight').value;
            const height = document.getElementById('profile-height').value;
            const goal = document.getElementById('profile-goal').value;

            userProfile = { name, age, weight, targetWeight, height, goal };
            localStorage.setItem('bestieProfile', JSON.stringify(userProfile));
            
            // Update Avatar
            document.getElementById('profile-avatar').src = `https://api.dicebear.com/7.x/avataaars/svg?seed=${name}`;
            
            alert('Perfil salvo com sucesso! üíñ');
        }

        function navigate(viewName) {
            // Update Content
            const main = document.getElementById('app-content');
            if (views[viewName]) {
                main.innerHTML = views[viewName];
            } else {
                console.error(`View "${viewName}" not found!`);
                return;
            }

            // View Specific Logic
            if(viewName === 'profile') {
                setTimeout(() => {
                    document.getElementById('profile-name').value = userProfile.name || '';
                    document.getElementById('profile-age').value = userProfile.age || '';
                    document.getElementById('profile-weight').value = userProfile.weight || '';
                    document.getElementById('profile-target-weight').value = userProfile.targetWeight || '';
                    document.getElementById('profile-height').value = userProfile.height || '';
                    document.getElementById('profile-goal').value = userProfile.goal || 'perder';
                    document.getElementById('profile-avatar').src = `https://api.dicebear.com/7.x/avataaars/svg?seed=${userProfile.name || 'Bestie'}`;
                }, 0);
            }
            
            if(viewName === 'calculator') {
                 setTimeout(() => {
                    // Pre-fill calculator if profile data exists
                    if(userProfile.age) document.getElementById('calc-age').value = userProfile.age;
                    if(userProfile.weight) document.getElementById('calc-weight').value = userProfile.weight;
                    if(userProfile.targetWeight) document.getElementById('calc-target-weight').value = userProfile.targetWeight;
                    if(userProfile.height) document.getElementById('calc-height').value = userProfile.height;
                    if(userProfile.goal) document.getElementById('calc-goal').value = userProfile.goal;
                }, 0);
            }

             if(viewName === 'water') {
                // Calc dynamic water goal: 35ml per kg. Default to 2.5L if no weight.
                if (userProfile.weight) {
                    waterGoalLiters = (userProfile.weight * 0.035).toFixed(1);
                    // Approx cups (250ml)
                    waterGoalCups = Math.ceil((waterGoalLiters * 1000) / 250);
                } else {
                    waterGoalLiters = 2.5;
                    waterGoalCups = 10;
                }
                
                // Update DOM elements for water view
                setTimeout(() => {
                    document.getElementById('water-goal-liters').innerText = waterGoalLiters + 'L';
                    document.getElementById('water-goal-total-cups').innerText = '/' + waterGoalCups;
                    updateWater(0); // Initialize visual state
                }, 0);
            }


            // Update Nav State
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('text-bestie');
                btn.classList.add('text-gray-400');
                if(viewName === 'home' && btn.innerText.includes('In√≠cio')) btn.classList.add('text-bestie'), btn.classList.remove('text-gray-400');
                if((viewName === 'recipes' || viewName === 'chefBestie') && btn.innerText.includes('Receitas')) {
                    btn.classList.add('text-bestie');
                    btn.classList.remove('text-gray-400');
                }
                if(viewName === 'calculator' && btn.innerText.includes('Calc')) btn.classList.add('text-bestie'), btn.classList.remove('text-gray-400');
                if(viewName === 'profile' && btn.innerText.includes('Perfil')) btn.classList.add('text-bestie'), btn.classList.remove('text-gray-400');
            });

            if(viewName === 'recipes') {
                renderRecipes('all');
            }
        }

        function updateWater(change) {
            waterIntake += change;
            if(waterIntake < 0) waterIntake = 0;
            // Cap at goal + extra buffer just for visual fun, but logic is goal
            if(waterIntake > waterGoalCups + 5) waterIntake = waterGoalCups + 5; 

            const countEl = document.getElementById('water-count');
            const fillEl = document.getElementById('water-level');
            
            if(countEl && fillEl) {
                countEl.innerText = waterIntake;
                // Percentage based on dynamic goal
                let percentage = (waterIntake / waterGoalCups) * 100;
                if(percentage > 100) percentage = 100;
                fillEl.style.height = `${percentage}%`;
            }
        }

        function filterRecipes(tag, btnElement) {
            document.querySelectorAll('.cat-btn').forEach(btn => {
                btn.classList.remove('bg-bestie', 'text-white', 'shadow-md');
                btn.classList.add('bg-white', 'text-gray-500', 'border', 'hover:text-bestie');
            });
            btnElement.classList.remove('bg-white', 'text-gray-500', 'border', 'hover:text-bestie');
            btnElement.classList.add('bg-bestie', 'text-white', 'shadow-md');

            renderRecipes(tag);
        }

        function renderRecipes(filterTag) {
            const grid = document.getElementById('recipe-grid');
            if(!grid) return;

            grid.innerHTML = '';
            
            // Check if recipe tags array includes the selected filter tag
            const filtered = filterTag === 'all' 
                ? recipes 
                : recipes.filter(r => r.tags && r.tags.includes(filterTag));

            if(filtered.length === 0) {
                grid.innerHTML = `
                    <div class="text-center py-10 flex flex-col items-center">
                        <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-3 text-gray-300">
                            <i class="fa-solid fa-cookie-bite text-2xl"></i>
                        </div>
                        <p class="text-gray-400 font-medium">Nenhuma receitinha nessa categoria :(</p>
                        <p class="text-gray-300 text-xs mt-1">Tente outro filtro!</p>
                    </div>`;
                return;
            }

            filtered.forEach(recipe => {
                const card = document.createElement('div');
                card.className = "bg-white rounded-2xl p-3 shadow-sm border border-pink-50 flex gap-4 hover:border-pink-200 transition cursor-pointer";
                card.onclick = () => openRecipe(recipe.id);
                
                card.innerHTML = `
                    <div class="flex-1 flex flex-col justify-center">
                        <div class="flex justify-between items-start">
                            <h3 class="font-bold text-gray-800 leading-tight line-clamp-2">${recipe.title}</h3>
                            <i class="fa-regular fa-bookmark text-gray-300"></i>
                        </div>
                        <div class="flex flex-wrap gap-1 mt-1.5">
                            <span class="text-[10px] text-bestie font-bold bg-pink-50 px-2 py-0.5 rounded">${recipe.calories} kcal</span>
                            <span class="text-[10px] text-gray-500 bg-gray-100 px-2 py-0.5 rounded">${recipe.displayCategory}</span>
                        </div>
                        <div class="mt-auto flex items-center gap-3 text-xs text-gray-400">
                            <span class="flex items-center gap-1"><i class="fa-regular fa-clock"></i> ${recipe.time}</span>
                            <span class="flex items-center gap-1"><i class="fa-solid fa-list-ul"></i> ${recipe.ingredients.length} ingr.</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-center pr-1">
                        <button class="w-8 h-8 rounded-full bg-pink-50 text-bestie hover:bg-bestie hover:text-white transition flex items-center justify-center">
                            <i class="fa-solid fa-chevron-right text-xs"></i>
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function openRecipe(id) {
            const recipe = recipes.find(r => r.id === id);
            if(!recipe) return;

            document.getElementById('modal-tag').innerText = recipe.displayCategory;
            document.getElementById('modal-title').innerText = recipe.title;
            document.getElementById('modal-cal').innerText = recipe.calories;
            document.getElementById('modal-time').innerText = recipe.time;
            document.getElementById('modal-difficulty').innerText = recipe.difficulty || "F√°cil";
            document.getElementById('modal-yield').innerText = recipe.yield || "1 por√ß√£o";
            document.getElementById('modal-desc').innerText = recipe.description || "";

            // Handle "Dica de Ouro" extraction
            const desc = recipe.description || "";
            const tipContainer = document.getElementById('modal-tip-container');
            const tipText = document.getElementById('modal-tip-text');
            
            if (desc.includes("Dica:")) {
                const parts = desc.split("Dica:");
                document.getElementById('modal-desc').innerText = parts[0].trim();
                tipText.innerText = parts[1].trim();
                tipContainer.classList.remove('hidden');
            } else {
                document.getElementById('modal-desc').innerText = desc;
                tipContainer.classList.add('hidden');
            }

            const ingList = document.getElementById('modal-ingredients');
            ingList.innerHTML = recipe.ingredients.map(ing => `<li class="flex items-start gap-2"><span class="w-1.5 h-1.5 rounded-full bg-bestie mt-1.5 flex-shrink-0"></span>${ing}</li>`).join('');

            const instList = document.getElementById('modal-instructions');
            instList.innerHTML = recipe.instructions.map((step, idx) => `
                <div class="flex gap-3">
                    <div class="w-6 h-6 rounded-full bg-pink-100 text-bestie text-xs font-bold flex items-center justify-center flex-shrink-0">${idx + 1}</div>
                    <p class="leading-snug">${step}</p>
                </div>
            `).join('');

            const modal = document.getElementById('recipe-modal');
            const panel = document.getElementById('modal-panel');
            
            modal.classList.remove('hidden');
            setTimeout(() => {
                panel.classList.remove('translate-y-full');
            }, 10);
        }

        function closeRecipeModal() {
            const modal = document.getElementById('recipe-modal');
            const panel = document.getElementById('modal-panel');
            
            panel.classList.add('translate-y-full');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        async function generatePlan() {
            const age = document.getElementById('calc-age').value;
            const weight = document.getElementById('calc-weight').value;
            const targetWeight = document.getElementById('calc-target-weight').value;
            const height = document.getElementById('calc-height').value;
            const goal = document.getElementById('calc-goal').value;
            
            const resultContainer = document.getElementById('plan-result');
            const btn = document.getElementById('plan-btn');

            if(!age || !weight || !height) {
                alert("Preencha todos os campos, bestie!");
                return;
            }

            btn.disabled = true;
            btn.innerHTML = `<div class="typing-indicator"><span></span><span></span><span></span></div> Calculando...`;
            resultContainer.classList.add('hidden');

            const planData = await callGeminiPlan({age, weight, targetWeight, height, goal});

            if(planData) {
                document.getElementById('plan-calories').innerText = planData.calories_target;
                document.getElementById('plan-protein').innerText = planData.macros.protein;
                document.getElementById('plan-carbs').innerText = planData.macros.carbs;
                document.getElementById('plan-fats').innerText = planData.macros.fats;
                document.getElementById('plan-tip').innerText = planData.tip;
                document.getElementById('plan-quote').innerText = `"${planData.motivational_quote}"`;
                document.getElementById('plan-bmi').innerText = `IMC: ${planData.bmi}`;

                resultContainer.classList.remove('hidden');
                resultContainer.scrollIntoView({ behavior: 'smooth' });
            } else {
                alert("Erro ao gerar plano. Tente novamente!");
            }

            btn.disabled = false;
            btn.innerHTML = `Gerar Plano Personalizado ‚ú®`;
        }

        async function generateWorkout() {
            const time = document.getElementById('workout-time').value;
            const focus = document.getElementById('workout-focus').value;
            const equip = document.getElementById('workout-equip').value;
            
            const resultContainer = document.getElementById('workout-result');
            const cardDiv = document.getElementById('workout-card');
            const btn = document.getElementById('workout-btn');

            btn.disabled = true;
            btn.innerHTML = `<div class="typing-indicator"><span></span><span></span><span></span></div> Montando Treino...`;
            resultContainer.classList.add('hidden');

            const workoutData = await callGeminiWorkout({time, focus, equipment: equip});

            if(workoutData) {
                cardDiv.innerHTML = `
                    <div class="bg-white rounded-3xl p-5 shadow-lg border border-red-100 overflow-hidden relative">
                        <div class="absolute top-0 right-0 bg-red-400 text-white text-xs font-bold px-3 py-1 rounded-bl-xl">
                            Treino IA üî•
                        </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">${workoutData.title}</h3>
                        
                        <div class="bg-red-50 p-3 rounded-xl mb-4 border border-red-100">
                            <span class="text-xs font-bold text-red-500 uppercase tracking-wider block mb-1">Aquecimento</span>
                            <p class="text-sm text-gray-700">${workoutData.warmup}</p>
                        </div>

                        <div class="mb-4">
                            <h4 class="font-bold text-gray-800 mb-3 text-sm flex items-center gap-2"><i class="fa-solid fa-dumbbell text-red-400"></i> Exerc√≠cios</h4>
                            <ul class="space-y-3">
                                ${workoutData.exercises.map(ex => `
                                    <li class="bg-gray-50 p-3 rounded-xl border border-gray-100">
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="font-bold text-gray-700 text-sm">${ex.name}</span>
                                            <span class="text-xs font-bold bg-white px-2 py-1 rounded text-red-500 border border-red-100">${ex.reps}</span>
                                        </div>
                                        <p class="text-xs text-gray-500 italic">${ex.tips}</p>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>

                        <div class="bg-yellow-50 rounded-xl p-4 text-center border border-yellow-100">
                            <p class="text-sm text-gray-600 italic font-medium">"${workoutData.motivation}"</p>
                        </div>
                    </div>
                `;
                resultContainer.classList.remove('hidden');
                resultContainer.scrollIntoView({ behavior: 'smooth' });
            } else {
                alert("Erro ao gerar treino. Tente novamente!");
            }

            btn.disabled = false;
            btn.innerHTML = `<span>Gerar Treino Agora</span> <i class="fa-solid fa-fire"></i>`;
        }

        async function generateAIRecipe() {
            const input = document.getElementById('ai-ingredients');
            const btn = document.getElementById('generate-btn');
            const resultDiv = document.getElementById('ai-result');
            const cardDiv = document.getElementById('ai-recipe-card');

            if (!input.value.trim()) return;

            // Loading State
            btn.disabled = true;
            btn.innerHTML = `<div class="typing-indicator"><span></span><span></span><span></span></div> Criando...`;
            resultDiv.classList.add('hidden');

            const recipeData = await callGemini(input.value);

            if (recipeData) {
                // Assign a temporary random ID
                recipeData.id = 999; 

                // Render Card (similar to renderRecipes but customized)
                cardDiv.innerHTML = `
                    <div class="bg-white rounded-3xl p-5 shadow-lg border border-pink-100 overflow-hidden relative">
                        <div class="absolute top-0 right-0 bg-bestie text-white text-xs font-bold px-3 py-1 rounded-bl-xl">
                            IA ‚ú®
                        </div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">${recipeData.title}</h3>
                        <p class="text-sm text-gray-500 italic mb-4">"${recipeData.description}"</p>
                        
                        <div class="flex gap-4 text-xs text-gray-500 mb-4 bg-pink-50 p-3 rounded-xl">
                            <span class="flex items-center gap-1"><i class="fa-solid fa-fire text-bestie"></i> ${recipeData.calories} kcal</span>
                            <span class="flex items-center gap-1"><i class="fa-regular fa-clock text-bestie"></i> ${recipeData.time}</span>
                            <span class="flex items-center gap-1"><i class="fa-solid fa-utensils text-bestie"></i> ${recipeData.difficulty}</span>
                        </div>

                        <div class="mb-4">
                            <h4 class="font-bold text-gray-800 mb-2 text-sm flex items-center gap-2"><i class="fa-solid fa-basket-shopping text-bestie"></i> Ingredientes</h4>
                            <ul class="text-sm text-gray-600 space-y-1 list-disc pl-4">
                                ${recipeData.ingredients.map(i => `<li>${i}</li>`).join('')}
                            </ul>
                        </div>

                        <div>
                            <h4 class="font-bold text-gray-800 mb-2 text-sm flex items-center gap-2"><i class="fa-solid fa-spoon text-bestie"></i> Modo de Preparo</h4>
                            <ol class="text-sm text-gray-600 space-y-2 list-decimal pl-4">
                                ${recipeData.instructions.map(i => `<li>${i}</li>`).join('')}
                            </ol>
                        </div>
                    </div>
                `;
                resultDiv.classList.remove('hidden');
                resultDiv.scrollIntoView({ behavior: 'smooth' });
            } else {
                alert("Ops! Ocorreu um erro ao criar a receita. Tente novamente!");
            }

            // Reset Button
            btn.disabled = false;
            btn.innerHTML = `<span>Criar Outra Receita</span> <i class="fa-solid fa-wand-magic-sparkles"></i>`;
        }

        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
