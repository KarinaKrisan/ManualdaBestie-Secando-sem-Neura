<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual da Bestie - Secando sem Neura</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                    },
                    colors: {
                        bestie: {
                            light: '#ffe4e6', // rose-100
                            DEFAULT: '#fb7185', // rose-400
                            dark: '#be123c', // rose-700
                            bg: '#fff1f2', // rose-50
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #fff1f2;
            -webkit-tap-highlight-color: transparent;
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="text-gray-700 pb-20">

    <!-- Header -->
    <header class="fixed top-0 w-full z-40 bg-white/90 backdrop-blur-md shadow-sm border-b border-pink-100">
        <div class="max-w-md mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-full bg-bestie text-white flex items-center justify-center">
                    <i class="fa-solid fa-heart text-sm"></i>
                </div>
                <h1 class="font-bold text-lg text-bestie-dark tracking-wide">Manual da Bestie</h1>
            </div>
            <button class="w-8 h-8 rounded-full bg-pink-50 text-bestie flex items-center justify-center hover:bg-pink-100 transition">
                <i class="fa-regular fa-bell"></i>
            </button>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="max-w-md mx-auto pt-20 px-4 min-h-screen" id="app-content">
        <!-- Content inject via JS -->
    </main>

    <!-- Recipe Details Modal (Hidden by default) -->
    <div id="recipe-modal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black/40 backdrop-blur-sm" onclick="closeRecipeModal()"></div>
        <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl h-[85vh] overflow-y-auto transform transition-transform duration-300 translate-y-full md:max-w-md md:mx-auto md:inset-x-0" id="modal-panel">
            <!-- Modal Content -->
            <div class="relative">
                <div id="modal-image-container" class="h-56 bg-gray-200 relative">
                    <img id="modal-img" src="" alt="Recipe" class="w-full h-full object-cover rounded-t-3xl">
                    <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-t from-black/60 to-transparent"></div>
                    <button onclick="closeRecipeModal()" class="absolute top-4 right-4 w-8 h-8 bg-white/20 backdrop-blur text-white rounded-full flex items-center justify-center">
                        <i class="fa-solid fa-xmark"></i>
                    </button>
                </div>
                
                <div class="p-6 -mt-6 bg-white rounded-t-3xl relative">
                    <div class="w-12 h-1 bg-gray-300 rounded-full mx-auto mb-6"></div>
                    
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <span id="modal-tag" class="text-xs font-semibold text-bestie uppercase tracking-wider bg-pink-50 px-2 py-1 rounded-md">Categoria</span>
                            <h2 id="modal-title" class="text-2xl font-bold text-gray-800 mt-1 leading-tight">Nome da Receita</h2>
                        </div>
                        <div class="flex flex-col items-end">
                            <span class="text-lg font-bold text-bestie-dark whitespace-nowrap"><span id="modal-cal">0</span> kcal</span>
                        </div>
                    </div>
                    
                    <p id="modal-desc" class="text-sm text-gray-500 mb-4 italic leading-relaxed">
                        <!-- Description injected here -->
                    </p>

                    <div class="flex items-center gap-4 text-sm text-gray-500 mb-6 border-y border-pink-50 py-3 justify-between px-2">
                        <div class="flex items-center gap-1">
                            <i class="fa-regular fa-clock text-bestie"></i>
                            <span id="modal-time">0 min</span>
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="fa-solid fa-fire text-bestie"></i>
                            <span id="modal-difficulty">F√°cil</span>
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="fa-solid fa-user-group text-bestie"></i>
                            <span id="modal-yield">2 por√ß√µes</span>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="font-bold text-gray-800 mb-3 flex items-center gap-2">
                            <i class="fa-solid fa-basket-shopping text-bestie"></i> Ingredientes
                        </h3>
                        <ul id="modal-ingredients" class="space-y-2 text-sm text-gray-600 pl-2">
                            <!-- JS Inject -->
                        </ul>
                    </div>

                    <div class="mb-8">
                        <h3 class="font-bold text-gray-800 mb-3 flex items-center gap-2">
                            <i class="fa-solid fa-spoon text-bestie"></i> Modo de Preparo
                        </h3>
                        <div id="modal-instructions" class="space-y-4 text-sm text-gray-600">
                            <!-- JS Inject -->
                        </div>
                    </div>
                    
                    <button class="w-full py-3 bg-bestie text-white font-semibold rounded-xl shadow-lg shadow-pink-200 hover:bg-bestie-dark transition active:scale-95">
                        <i class="fa-regular fa-heart mr-2"></i> Salvar nos Favoritos
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 w-full z-40 bg-white border-t border-pink-100 pb-safe">
        <div class="max-w-md mx-auto px-6 h-16 flex items-center justify-between">
            <button onclick="navigate('home')" class="nav-btn active flex flex-col items-center gap-1 text-bestie">
                <i class="fa-solid fa-house text-xl mb-0.5"></i>
                <span class="text-[10px] font-medium">In√≠cio</span>
            </button>
            <button onclick="navigate('recipes')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 hover:text-bestie transition">
                <i class="fa-solid fa-utensils text-xl mb-0.5"></i>
                <span class="text-[10px] font-medium">Receitas</span>
            </button>
            <div class="relative -top-5">
                <button class="w-12 h-12 rounded-full bg-bestie text-white flex items-center justify-center shadow-lg shadow-pink-300 hover:scale-105 transition">
                    <i class="fa-solid fa-plus text-xl"></i>
                </button>
            </div>
            <button onclick="navigate('calculator')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 hover:text-bestie transition">
                <i class="fa-solid fa-calculator text-xl mb-0.5"></i>
                <span class="text-[10px] font-medium">Calc</span>
            </button>
            <button onclick="navigate('profile')" class="nav-btn flex flex-col items-center gap-1 text-gray-400 hover:text-bestie transition">
                <i class="fa-regular fa-user text-xl mb-0.5"></i>
                <span class="text-[10px] font-medium">Perfil</span>
            </button>
        </div>
    </nav>

    <script>
        // --- DATA ---
        // Tags: 'cafe', 'almoco', 'jantar', 'lanche', 'vegano', 'vegetariano', 'proteina', 'lowcarb', 'lowfat', 'zeroacucar', 'lowcal', 'simples', 'rapido'
        
        const recipes = [
            {
                id: 15,
                title: "Shake de prote√≠na de chocolate",
                displayCategory: "Pr√©-Treino/Lanche",
                tags: ['lanche', 'proteina', 'rapido', 'simples', 'zeroacucar'],
                calories: 284,
                time: "5 min",
                difficulty: "F√°cil",
                yield: "2 por√ß√µes",
                description: "Shake r√°pido e delicioso! O cacau em p√≥ d√° o sabor e a prote√≠na promove saciedade. √ìtima op√ß√£o pr√©-treino.",
                image: "https://images.unsplash.com/photo-1620916297397-a4a5402a3c6c?auto=format&fit=crop&q=80&w=600",
                ingredients: [
                    "1 banana madura (150 g)",
                    "√Ågua (300 mL)",
                    "Farinha de linha√ßa (2 colheres de sopa, 20 g)",
                    "Aveia (3 colheres de sopa, 24 g)",
                    "Prote√≠na em p√≥ (2 colheres de sopa, 24 g)",
                    "Cacau em p√≥ (10 g)",
                    "Pasta de amendoim (1 colher de sopa, 20 g)"
                ],
                instructions: [
                    "Descasque a banana.",
                    "Coloque-a no liquidificador junto com os outros ingredientes e bata at√© obter um creme.",
                    "Aproveite!"
                ]
            },
            {
                id: 14,
                title: "Shake proteico de frutas vermelhas",
                displayCategory: "P√≥s-Treino",
                tags: ['lanche', 'proteina', 'lowcal', 'lowfat', 'rapido', 'zeroacucar'],
                calories: 163,
                time: "9 min",
                difficulty: "F√°cil",
                yield: "1 por√ß√£o",
                description: "Leve e proteico, feito com claras pasteurizadas e iogurte. Perfeito para recupera√ß√£o muscular com baixas calorias.",
                image: "https://images.unsplash.com/photo-1599458316239-015848c08192?auto=format&fit=crop&q=80&w=600",
                ingredients: [
                    "Linha√ßa (5 g)",
                    "√Ågua (1 colher de sopa, 15 mL)",
                    "3 claras de ovo (105 g)",
                    "Iogurte natural sem gordura (100 g)",
                    "Frutas vermelhas congeladas (100 g)",
                    "Extrato de baunilha em p√≥ (1 g)",
                    "Eritritol em p√≥ (1 colher de sopa, 7 g)"
                ],
                instructions: [
                    "Deixe a linha√ßa de molho na √°gua por cerca de 5 minutos.",
                    "Em um liquidificador, bata as claras com o iogurte e a linha√ßa.",
                    "Adicione o eritritol, as frutas vermelhas e a baunilha e bata mais uma vez, at√© obter um smoothie cremoso.",
                    "Transfira para um copo e beba imediatamente."
                ]
            },
            {
                id: 13,
                title: "Shake de mirtilo e coco",
                displayCategory: "Proteico Caseiro",
                tags: ['lanche', 'proteina', 'rapido', 'simples', 'cafe'],
                calories: 358,
                time: "5 min",
                difficulty: "F√°cil",
                yield: "1 por√ß√£o",
                description: "Alternativa saud√°vel aos shakes industrializados. O ingrediente principal √© o iogurte grego, garantindo prote√≠nas de qualidade sem aditivos artificiais.",
                image: "https://images.unsplash.com/photo-1620916297397-a4a5402a3c6c?auto=format&fit=crop&q=80&w=600",
                ingredients: [
                    "Iogurte grego natural, sem gordura (300 g)",
                    "Mirtilo (125 g)",
                    "Flocos de coco (1 colher de sopa, 5 g)",
                    "Leite semidesnatado (100 mL)"
                ],
                instructions: [
                    "Coloque o iogurte, o leite, o mirtilo e os flocos de coco em um liquidificador e bata em alta velocidade at√© que a mistura fique homog√™nea.",
                    "Sirva com alguns flocos de coco por cima.",
                    "Aproveite!"
                ]
            },
            {
                id: 12,
                title: "Smoothie de banana e t√¢mara",
                displayCategory: "Caf√©/Lanche",
                tags: ['cafe', 'lanche', 'vegano', 'vegetariano', 'zeroacucar', 'simples'],
                calories: 237,
                time: "15 min",
                difficulty: "F√°cil",
                yield: "2 por√ß√µes",
                description: "Delicioso e refrescante, dispensa ado√ßantes gra√ßas √†s t√¢maras. Dica: Deixe as t√¢maras de molho no leite durante a noite se tiver pressa pela manh√£.",
                image: "https://images.unsplash.com/photo-1596450522030-9b45663673c2?auto=format&fit=crop&q=80&w=600",
                ingredients: [
                    "T√¢mara, sem caro√ßo (90 g)",
                    "Leite de am√™ndoa (350 mL)",
                    "1 banana pequena (75 g)",
                    "Manteiga de am√™ndoa (2 colheres de ch√°, 8 g)",
                    "5 cubos de gelo (110 g)"
                ],
                instructions: [
                    "Para come√ßar, coloque as t√¢maras de molho em √°gua fervente por 10 minutos para amolecer.",
                    "Escoe a √°gua das t√¢maras.",
                    "Adicione todos os ingredientes em um liquidificador e bata at√© obter uma consist√™ncia cremosa.",
                    "Aproveite!"
                ]
            },
            {
                id: 11,
                title: "Shake de prote√≠na com pasta de amendoim",
                displayCategory: "Proteico",
                tags: ['lanche', 'proteina', 'rapido', 'simples', 'zeroacucar'],
                calories: 402,
                time: "5 min",
                difficulty: "F√°cil",
                yield: "1 por√ß√£o",
                description: "Pasta de amendoim √© um dos lanches preferidos dos atletas. Servida em um shake, √© uma fonte de prote√≠nas excelente e deliciosa.",
                image: "https://images.unsplash.com/photo-1550583724-b2692b85b150?auto=format&fit=crop&q=80&w=600",
                ingredients: [
                    "Leite de am√™ndoa, sem a√ß√∫car (150 mL)",
                    "Pasta de amendoim (1 colher de sopa, 20 g)",
                    "1 banana madura (150 g)",
                    "Canela (a gosto)",
                    "Prote√≠na em p√≥, sabor chocolate (30 g)"
                ],
                instructions: [
                    "Coloque todos os ingredientes no liquidificador e misture at√© obter uma mistura homog√™nea.",
                    "Consuma imediatamente."
                ]
            },
            {
                id: 10,
                title: "Shake de banana e nozes",
                displayCategory: "P√≥s-Treino/Caf√©",
                tags: ['cafe', 'lanche', 'proteina', 'rapido', 'simples'],
                calories: 434,
                time: "5 min",
                difficulty: "F√°cil",
                yield: "1 por√ß√£o",
                description: "Nosso shake poderoso com banana, nozes e mel funciona muito bem para estimular seu metabolismo. Ideal p√≥s-treino ou ao acordar.",
                image: "https://images.unsplash.com/photo-1593094406256-4299b90c1f6b?auto=format&fit=crop&q=80&w=600",
                ingredients: [
                    "Iogurte grego natural, sem gordura (150 g)",
                    "Leite de am√™ndoa, sem a√ß√∫car (300 mL)",
                    "Mel (1 colher de ch√°, 10 g)",
                    "¬Ω banana (75 g)",
                    "Nozes, picadas (24 g)"
                ],
                instructions: [
                    "Coloque todos os ingredientes, exceto 2 ou 3 nozes, no liquidificador e bata.",
                    "Coloque o shake em um copo e decore com as nozes restantes.",
                    "Aproveite!"
                ]
            },
            {
                id: 9,
                title: "Smoothie de Morango e Banana",
                displayCategory: "Caf√©/Lanche",
                tags: ['cafe', 'lanche', 'vegetariano', 'rapido', 'simples', 'lowcal'],
                calories: 150,
                time: "5 min",
                difficulty: "F√°cil",
                yield: "2 por√ß√µes",
                description: "Smoothies podem ser preparados rapidamente e s√£o cheios de frutas frescas. A banana garante a do√ßura desta receita. Uma del√≠cia refrescante!",
                image: "https://images.unsplash.com/photo-1626078298288-06795f590b5d?auto=format&fit=crop&q=80&w=600",
                ingredients: [
                    "Morango (200 g)",
                    "1 Banana (150 g)",
                    "Iogurte light (180 g)",
                    "Cubos de gelo (50 g)"
                ],
                instructions: [
                    "Lave os morangos e coloque-os em um liquidificador.",
                    "Corte a banana em peda√ßos e adicione ao liquidificador com o resto dos ingredientes.",
                    "Bata at√© obter uma mistura lisa.",
                    "Aproveite!"
                ]
            },
            {
                id: 8,
                title: "Shake de Chocolate e Hortel√£",
                displayCategory: "Caf√©/Lanche",
                tags: ['cafe', 'lanche', 'vegano', 'vegetariano', 'zeroacucar', 'simples', 'rapido'],
                calories: 232,
                time: "3 min",
                difficulty: "F√°cil",
                yield: "2 por√ß√µes",
                description: "Nosso shake de chocolate com um toque de hortel√£ √© √≥timo para o caf√© da manh√£ ou para um lanche. A do√ßura natural da banana e os √°cidos graxos saud√°veis do avocado promover√£o saciedade.",
                image: "https://images.unsplash.com/photo-1577805947697-89e18249d767?auto=format&fit=crop&q=80&w=600",
                ingredients: [
                    "Cacau em p√≥ (2 colheres de sopa, 30 g)",
                    "Hortel√£ fresca (10 g)",
                    "¬Ω avocado (110 g)",
                    "1 banana madura (150 g)",
                    "Leite de am√™ndoas n√£o ado√ßado (300 mL)"
                ],
                instructions: [
                    "Corte o avocado e a banana em peda√ßos pequenos. Misture com os outros ingredientes e bata tudo em um liquidificador.",
                    "Distribua o shake em dois copos e decore com folha de hortel√£.",
                    "Aproveite!"
                ]
            },
            {
                id: 7,
                title: "Lassi de Manga",
                displayCategory: "Caf√© da Manh√£",
                tags: ['cafe', 'lanche', 'vegetariano', 'simples', 'rapido', 'lowcal', 'lowfat'],
                calories: 211,
                time: "3 min",
                difficulty: "Muito F√°cil",
                yield: "2 por√ß√µes",
                description: "Este shake de manga √© uma bebida de beleza. A manga cont√©m betacaroteno, que protege as c√©lulas. Dica: Use cubos de gelo para deixar bem refrescante!",
                image: "https://images.unsplash.com/photo-1623065422902-30a2d299bbe4?auto=format&fit=crop&q=80&w=600",
                ingredients: [
                    "Manga em cubos, congelada (300 g)", 
                    "Iogurte light (300 g)", 
                    "Mel (1 colher de sopa, 20 g)", 
                    "Cardamomo em p√≥ (5 g)"
                ],
                instructions: [
                    "Bata todos os ingredientes no liquidificador.", 
                    "Sirva bem gelado e aproveite!"
                ]
            },
            {
                id: 6,
                title: "Br√≥colis e couve-flor ao forno",
                displayCategory: "Almo√ßo/Jantar",
                tags: ['almoco', 'jantar', 'vegetariano', 'lowcarb', 'lowcal', 'lowfat'],
                calories: 356,
                time: "25 min",
                difficulty: "Normal",
                yield: "2 por√ß√µes",
                description: "Este prato de br√≥colis e couve-flor √© muito saboroso. Gra√ßas ao molho cremoso de queijo, voc√™ vai ficar saciado(a) por um bom tempo.",
                image: "https://images.unsplash.com/photo-1612158652932-55dd1d713c23?auto=format&fit=crop&q=80&w=600",
                ingredients: ["Couve-flor (200 g)", "Br√≥colis (200 g)", "Queijo alpino ralado (100 g)", "Creme azedo (45 g)", "Azeite e temperos"],
                instructions: ["Lave a couve-flor e o br√≥colis e corte-os. Cozinhe por 7 minutos.", "Misture o queijo com o creme azedo e temperos.", "Coloque os vegetais na assadeira, cubra com molho.", "Asse a 160¬∞C por 15 minutos."]
            },
            {
                id: 1,
                title: "Crepioca Fit",
                displayCategory: "Caf√© da Manh√£",
                tags: ['cafe', 'proteina', 'zeroacucar', 'simples', 'rapido', 'lowcal'],
                calories: 180,
                time: "10 min",
                difficulty: "F√°cil",
                yield: "1 por√ß√£o",
                description: "A queridinha das dietas! Pr√°tica, r√°pida e vers√°til para come√ßar o dia.",
                image: "https://images.unsplash.com/photo-1513442542250-854d436a73f2?auto=format&fit=crop&q=80&w=600",
                ingredients: ["1 ovo", "2 colheres (sopa) de goma de tapioca", "1 colher (sopa) de requeij√£o light", "Sal a gosto"],
                instructions: ["Bata o ovo com a tapioca e o requeij√£o.", "Tempere com sal.", "Despeje em uma frigideira antiaderente untada.", "Doure dos dois lados e sirva recheado a gosto."]
            },
            {
                id: 2,
                title: "Salada de Pote",
                displayCategory: "Almo√ßo Pr√°tico",
                tags: ['almoco', 'jantar', 'lowcal', 'lowcarb', 'proteina', 'rapido', 'simples'],
                calories: 320,
                time: "15 min",
                difficulty: "F√°cil",
                yield: "1 pote",
                description: "Perfeita para levar para o trabalho. O segredo est√° na ordem dos ingredientes!",
                image: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?auto=format&fit=crop&q=80&w=600",
                ingredients: ["Mix de folhas", "100g de frango desfiado", "Tomate cereja", "Cenoura ralada", "Molho de iogurte"],
                instructions: ["Comece colocando o molho no fundo do pote.", "Adicione a cenoura e o tomate.", "Coloque o frango.", "Finalize com as folhas."]
            },
            {
                id: 3,
                title: "Overnight Oats",
                displayCategory: "Caf√©/Lanche",
                tags: ['cafe', 'lanche', 'vegetariano', 'simples', 'rapido', 'zeroacucar'],
                calories: 250,
                time: "5 min",
                difficulty: "Muito F√°cil",
                yield: "1 pote",
                description: "Caf√© da manh√£ pronto para quem acorda na correria.",
                image: "https://images.unsplash.com/photo-1517519014922-8fc5e6211605?auto=format&fit=crop&q=80&w=600",
                ingredients: ["30g de aveia em flocos", "100ml de leite vegetal", "1 colher de chia", "Frutas vermelhas"],
                instructions: ["Misture a aveia, o leite e a chia em um pote.", "Deixe na geladeira durante a noite.", "Na manh√£ seguinte, adicione as frutas."]
            },
            {
                id: 4,
                title: "Brigadeiro de Whey",
                displayCategory: "Doce Fit",
                tags: ['lanche', 'proteina', 'zeroacucar', 'simples', 'rapido'],
                calories: 120,
                time: "15 min",
                difficulty: "F√°cil",
                yield: "5 bolinhas",
                description: "Para matar a vontade de doce sem sair da dieta.",
                image: "https://images.unsplash.com/photo-1541783245831-57d6fb0926d3?auto=format&fit=crop&q=80&w=600",
                ingredients: ["1 scoop de Whey Protein chocolate", "1 colher de cacau em p√≥", "Leite em p√≥ desnatado", "√Ågua"],
                instructions: ["Misture todos os secos.", "V√° adicionando √°gua morna aos poucos at√© dar ponto.", "Enrole e gele."]
            },
            {
                id: 5,
                title: "Panqueca de Banana",
                displayCategory: "Caf√© da Manh√£",
                tags: ['cafe', 'lanche', 'zeroacucar', 'simples', 'rapido', 'lowfat', 'vegetariano'],
                calories: 210,
                time: "10 min",
                difficulty: "F√°cil",
                yield: "1 por√ß√£o",
                description: "Apenas 3 ingredientes para um lanche saud√°vel.",
                image: "https://images.unsplash.com/photo-1506084868230-bb9d95c24759?auto=format&fit=crop&q=80&w=600",
                ingredients: ["1 banana madura amassada", "2 ovos", "Canela a gosto"],
                instructions: ["Misture a banana com os ovos e canela.", "Aque√ßa a frigideira untada.", "Fa√ßa discos e doure dos dois lados."]
            }
        ];

        const views = {
            home: `
                <div class="fade-in space-y-6">
                    <div class="bg-gradient-to-r from-bestie to-pink-400 rounded-3xl p-6 text-white shadow-lg shadow-pink-200">
                        <p class="text-pink-100 text-sm font-medium mb-1">Bom dia, Bestie! ‚ú®</p>
                        <h2 class="text-2xl font-bold mb-4">Vamos secar hoje?</h2>
                        <div class="flex gap-3">
                            <div class="bg-white/20 backdrop-blur rounded-xl p-3 flex-1">
                                <span class="block text-xs text-pink-100">√Ågua</span>
                                <span class="font-bold text-lg">1.2L</span>
                            </div>
                            <div class="bg-white/20 backdrop-blur rounded-xl p-3 flex-1">
                                <span class="block text-xs text-pink-100">Meta</span>
                                <span class="font-bold text-lg">55kg</span>
                            </div>
                        </div>
                    </div>

                    <div>
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-bold text-lg text-gray-800">Atalhos</h3>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <button onclick="navigate('recipes')" class="bg-white p-4 rounded-2xl shadow-sm border border-pink-50 flex flex-col items-center gap-2 hover:border-bestie transition group">
                                <div class="w-12 h-12 rounded-full bg-green-100 text-green-500 flex items-center justify-center group-hover:scale-110 transition">
                                    <i class="fa-solid fa-leaf"></i>
                                </div>
                                <span class="font-medium text-sm">Receitinhas</span>
                            </button>
                            <button class="bg-white p-4 rounded-2xl shadow-sm border border-pink-50 flex flex-col items-center gap-2 hover:border-bestie transition group">
                                <div class="w-12 h-12 rounded-full bg-blue-100 text-blue-500 flex items-center justify-center group-hover:scale-110 transition">
                                    <i class="fa-solid fa-glass-water"></i>
                                </div>
                                <span class="font-medium text-sm">√Ågua</span>
                            </button>
                        </div>
                    </div>
                </div>
            `,
            recipes: `
                <div class="fade-in">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">Receitinhas ü•ó</h2>
                        <p class="text-gray-500 text-sm">Filtre pelo seu objetivo ou refei√ß√£o</p>
                    </div>

                    <!-- Search -->
                    <div class="relative mb-6">
                        <i class="fa-solid fa-search absolute left-4 top-3.5 text-gray-400 text-sm"></i>
                        <input type="text" placeholder="O que vamos cozinhar?" class="w-full bg-white border border-pink-100 rounded-full py-3 pl-10 pr-4 text-sm focus:outline-none focus:border-bestie focus:ring-1 focus:ring-bestie transition placeholder-gray-400 shadow-sm">
                    </div>

                    <!-- Categories / Filters -->
                    <div class="flex gap-2 overflow-x-auto hide-scrollbar mb-6 pb-2 px-1">
                        <button onclick="filterRecipes('all', this)" class="cat-btn active flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-bestie text-white shadow-md shadow-pink-200 transition">Tudo</button>
                        
                        <!-- Refei√ß√µes -->
                        <button onclick="filterRecipes('cafe', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Caf√© da Manh√£</button>
                        <button onclick="filterRecipes('almoco', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Almo√ßo</button>
                        <button onclick="filterRecipes('jantar', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Jantar</button>
                        
                        <!-- Dietas -->
                        <button onclick="filterRecipes('lowcarb', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Baixo Carboidrato</button>
                        <button onclick="filterRecipes('proteina', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Rico em Prote√≠nas</button>
                        <button onclick="filterRecipes('lowcal', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Baixa Caloria</button>
                        <button onclick="filterRecipes('lowfat', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Baixa Gordura</button>
                        <button onclick="filterRecipes('zeroacucar', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Sem A√ß√∫car</button>
                        
                        <!-- Prefer√™ncias -->
                        <button onclick="filterRecipes('vegano', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Vegano</button>
                        <button onclick="filterRecipes('vegetariano', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Vegetariano</button>
                        
                        <!-- Praticidade -->
                        <button onclick="filterRecipes('simples', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Poucos Ingredientes</button>
                        <button onclick="filterRecipes('rapido', this)" class="cat-btn flex-shrink-0 px-4 py-2 rounded-full text-xs font-semibold bg-white text-gray-500 border border-pink-100 hover:border-bestie hover:text-bestie transition">Preparo R√°pido</button>
                    </div>

                    <!-- Recipe Grid -->
                    <div id="recipe-grid" class="grid grid-cols-1 gap-4 pb-20">
                        <!-- Filled by JS -->
                    </div>
                </div>
            `,
            calculator: `
                 <div class="fade-in text-center pt-10">
                    <div class="w-16 h-16 bg-pink-100 text-bestie rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fa-solid fa-calculator text-2xl"></i>
                    </div>
                    <h2 class="text-xl font-bold text-gray-800">Calculadora Bestie</h2>
                    <p class="text-gray-500 mt-2">Em breve: Calcule seu IMC e Macros!</p>
                </div>
            `,
            profile: `
                <div class="fade-in text-center pt-10">
                    <div class="w-20 h-20 bg-gray-200 rounded-full mx-auto mb-4 overflow-hidden border-4 border-white shadow-md">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Bestie" alt="Profile" />
                    </div>
                    <h2 class="text-xl font-bold text-gray-800">Bestie Fit</h2>
                    <p class="text-bestie font-medium">Membro Premium</p>
                </div>
            `
        };

        // --- FUNCTIONS ---

        function init() {
            navigate('recipes'); 
            renderRecipes('all');
        }

        function navigate(viewName) {
            const main = document.getElementById('app-content');
            main.innerHTML = views[viewName];

            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('text-bestie');
                btn.classList.add('text-gray-400');
                if(viewName === 'home' && btn.innerText.includes('In√≠cio')) btn.classList.add('text-bestie'), btn.classList.remove('text-gray-400');
                if(viewName === 'recipes' && btn.innerText.includes('Receitas')) btn.classList.add('text-bestie'), btn.classList.remove('text-gray-400');
                if(viewName === 'calculator' && btn.innerText.includes('Calc')) btn.classList.add('text-bestie'), btn.classList.remove('text-gray-400');
                if(viewName === 'profile' && btn.innerText.includes('Perfil')) btn.classList.add('text-bestie'), btn.classList.remove('text-gray-400');
            });

            if(viewName === 'recipes') {
                renderRecipes('all');
            }
        }

        function filterRecipes(tag, btnElement) {
            document.querySelectorAll('.cat-btn').forEach(btn => {
                btn.classList.remove('bg-bestie', 'text-white', 'shadow-md');
                btn.classList.add('bg-white', 'text-gray-500', 'border', 'hover:text-bestie');
            });
            btnElement.classList.remove('bg-white', 'text-gray-500', 'border', 'hover:text-bestie');
            btnElement.classList.add('bg-bestie', 'text-white', 'shadow-md');

            renderRecipes(tag);
        }

        function renderRecipes(filterTag) {
            const grid = document.getElementById('recipe-grid');
            if(!grid) return;

            grid.innerHTML = '';
            
            // Check if recipe tags array includes the selected filter tag
            const filtered = filterTag === 'all' 
                ? recipes 
                : recipes.filter(r => r.tags && r.tags.includes(filterTag));

            if(filtered.length === 0) {
                grid.innerHTML = `
                    <div class="text-center py-10 flex flex-col items-center">
                        <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-3 text-gray-300">
                            <i class="fa-solid fa-cookie-bite text-2xl"></i>
                        </div>
                        <p class="text-gray-400 font-medium">Nenhuma receitinha nessa categoria :(</p>
                        <p class="text-gray-300 text-xs mt-1">Tente outro filtro!</p>
                    </div>`;
                return;
            }

            filtered.forEach(recipe => {
                const card = document.createElement('div');
                card.className = "bg-white rounded-2xl p-3 shadow-sm border border-pink-50 flex gap-4 hover:border-pink-200 transition cursor-pointer";
                card.onclick = () => openRecipe(recipe.id);
                
                card.innerHTML = `
                    <div class="w-24 h-24 rounded-xl bg-gray-100 flex-shrink-0 overflow-hidden">
                        <img src="${recipe.image}" class="w-full h-full object-cover" alt="${recipe.title}">
                    </div>
                    <div class="flex-1 flex flex-col justify-center">
                        <div class="flex justify-between items-start">
                            <h3 class="font-bold text-gray-800 leading-tight line-clamp-2">${recipe.title}</h3>
                            <i class="fa-regular fa-bookmark text-gray-300"></i>
                        </div>
                        <div class="flex flex-wrap gap-1 mt-1.5">
                            <span class="text-[10px] text-bestie font-bold bg-pink-50 px-2 py-0.5 rounded">${recipe.calories} kcal</span>
                            <span class="text-[10px] text-gray-500 bg-gray-100 px-2 py-0.5 rounded">${recipe.displayCategory}</span>
                        </div>
                        <div class="mt-auto flex items-center gap-3 text-xs text-gray-400">
                            <span class="flex items-center gap-1"><i class="fa-regular fa-clock"></i> ${recipe.time}</span>
                            <span class="flex items-center gap-1"><i class="fa-solid fa-list-ul"></i> ${recipe.ingredients.length} ingr.</span>
                        </div>
                    </div>
                    <div class="flex items-center justify-center pr-1">
                        <button class="w-8 h-8 rounded-full bg-pink-50 text-bestie hover:bg-bestie hover:text-white transition flex items-center justify-center">
                            <i class="fa-solid fa-chevron-right text-xs"></i>
                        </button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function openRecipe(id) {
            const recipe = recipes.find(r => r.id === id);
            if(!recipe) return;

            document.getElementById('modal-img').src = recipe.image;
            document.getElementById('modal-tag').innerText = recipe.displayCategory;
            document.getElementById('modal-title').innerText = recipe.title;
            document.getElementById('modal-cal').innerText = recipe.calories;
            document.getElementById('modal-time').innerText = recipe.time;
            document.getElementById('modal-difficulty').innerText = recipe.difficulty || "F√°cil";
            document.getElementById('modal-yield').innerText = recipe.yield || "1 por√ß√£o";
            document.getElementById('modal-desc').innerText = recipe.description || "";

            const ingList = document.getElementById('modal-ingredients');
            ingList.innerHTML = recipe.ingredients.map(ing => `<li class="flex items-start gap-2"><span class="w-1.5 h-1.5 rounded-full bg-bestie mt-1.5 flex-shrink-0"></span>${ing}</li>`).join('');

            const instList = document.getElementById('modal-instructions');
            instList.innerHTML = recipe.instructions.map((step, idx) => `
                <div class="flex gap-3">
                    <div class="w-6 h-6 rounded-full bg-pink-100 text-bestie text-xs font-bold flex items-center justify-center flex-shrink-0">${idx + 1}</div>
                    <p class="leading-snug">${step}</p>
                </div>
            `).join('');

            const modal = document.getElementById('recipe-modal');
            const panel = document.getElementById('modal-panel');
            
            modal.classList.remove('hidden');
            setTimeout(() => {
                panel.classList.remove('translate-y-full');
            }, 10);
        }

        function closeRecipeModal() {
            const modal = document.getElementById('recipe-modal');
            const panel = document.getElementById('modal-panel');
            
            panel.classList.add('translate-y-full');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
